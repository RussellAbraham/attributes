<section id=usage>
    <h2>Basic Usage</h2>

    <p>The easiest way to use CodeMirror is to simply load the script
    and style sheet found under <code>lib/</code> in the distribution,
    plus a mode script from one of the <code>mode/</code> directories.
    For example:</p>

    <pre data-lang="text/html">&lt;script src="lib/codemirror.js">&lt;/script>
&lt;link rel="stylesheet" href="lib/codemirror.css">
&lt;script src="mode/javascript/javascript.js">&lt;/script></pre>

    <p>(Alternatively, use a module loader. <a href="#modloader">More
    about that later.</a>)</p>

    <p>Having done this, an editor instance can be created like
    this:</p>

    <pre data-lang="javascript">var myCodeMirror = CodeMirror(document.body);</pre>

    <p>The editor will be appended to the document body, will start
    empty, and will use the mode that we loaded. To have more control
    over the new editor, a configuration object can be passed
    to <a href="#CodeMirror"><code>CodeMirror</code></a> as a second
    argument:</p>

    <pre data-lang="javascript">var myCodeMirror = CodeMirror(document.body, {
  value: "function myScript(){return 100;}\n",
  mode:  "javascript"
});</pre>

    <p>This will initialize the editor with a piece of code already in
    it, and explicitly tell it to use the JavaScript mode (which is
    useful when multiple modes are loaded).
    See <a href="#config">below</a> for a full discussion of the
    configuration options that CodeMirror accepts.</p>

    <p>In cases where you don't want to append the editor to an
    element, and need more control over the way it is inserted, the
    first argument to the <code>CodeMirror</code> function can also
    be a function that, when given a DOM element, inserts it into the
    document somewhere. This could be used to, for example, replace a
    textarea with a real editor:</p>

    <pre data-lang="javascript">var myCodeMirror = CodeMirror(function(elt) {
  myTextArea.parentNode.replaceChild(elt, myTextArea);
}, {value: myTextArea.value});</pre>

    <p>However, for this use case, which is a common way to use
    CodeMirror, the library provides a much more powerful
    shortcut:</p>

    <pre data-lang="javascript">var myCodeMirror = CodeMirror.fromTextArea(myTextArea);</pre>

    <p>This will, among other things, ensure that the textarea's value
    is updated with the editor's contents when the form (if it is part
    of a form) is submitted. See the <a href="#fromTextArea">API
    reference</a> for a full description of this method.</p>

    <h3 id=modloader>Module loaders</h3>

    <p>The files in the CodeMirror distribution contain shims for
    loading them (and their dependencies) in AMD or CommonJS
    environments. If the variables <code>exports</code>
    and <code>module</code> exist and have type object, CommonJS-style
    require will be used. If not, but there is a
    function <code>define</code> with an <code>amd</code> property
    present, AMD-style (RequireJS) will be used.</p>

    <p>It is possible to
    use <a href="http://browserify.org/">Browserify</a> or similar
    tools to statically build modules using CodeMirror. Alternatively,
    use <a href="http://requirejs.org/">RequireJS</a> to dynamically
    load dependencies at runtime. Both of these approaches have the
    advantage that they don't use the global namespace and can, thus,
    do things like load multiple versions of CodeMirror alongside each
    other.</p>

    <p>Here's a simple example of using RequireJS to load CodeMirror:</p>

    <pre data-lang="javascript">require([
  "cm/lib/codemirror", "cm/mode/htmlmixed/htmlmixed"
], function(CodeMirror) {
  CodeMirror.fromTextArea(document.getElementById("code"), {
    lineNumbers: true,
    mode: "htmlmixed"
  });
});</pre>

    <p>It will automatically load the modes that the mixed HTML mode
    depends on (XML, JavaScript, and CSS). Do <em>not</em> use
    RequireJS' <code>paths</code> option to configure the path to
    CodeMirror, since it will break loading submodules through
    relative paths. Use
    the <a href="http://requirejs.org/docs/api.html#packages"><code>packages</code></a>
    configuration option instead, as in:</p>

    <pre data-lang=javascript>require.config({
  packages: [{
    name: "codemirror",
    location: "../path/to/codemirror",
    main: "lib/codemirror"
  }]
});</pre>

</section>
