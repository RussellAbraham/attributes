
<section id=api>
    <h2>Programming API</h2>

    <p>A lot of CodeMirror features are only available through its
    API. Thus, you need to write code (or
    use <a href="#addons">addons</a>) if you want to expose them to
    your users.</p>

    <p>Whenever points in the document are represented, the API uses
    objects with <code>line</code> and <code>ch</code> properties.
    Both are zero-based. CodeMirror makes sure to 'clip' any positions
    passed by client code so that they fit inside the document, so you
    shouldn't worry too much about sanitizing your coordinates. If you
    give <code>ch</code> a value of <code>null</code>, or don't
    specify it, it will be replaced with the length of the specified
    line. Such positions may also have a <code>sticky</code> property
    holding <code>"before"</code> or <code>"after"</code>, whether the
    position is associated with the character before or after it. This
    influences, for example, where the cursor is drawn on a
    line-break or bidi-direction boundary.</p>

    <p>Methods prefixed with <code>doc.</code> can, unless otherwise
    specified, be called both on <code>CodeMirror</code> (editor)
    instances and <code>CodeMirror.Doc</code> instances. Methods
    prefixed with <code>cm.</code> are <em>only</em> available
    on <code>CodeMirror</code> instances.</p>

    <h3 id="api_constructor">Constructor</h3>

    <p id="CodeMirror">Constructing an editor instance is done with
    the <code><strong>CodeMirror</strong>(place: Element|fn(Element),
    ?option: object)</code> constructor. If the <code>place</code>
    argument is a DOM element, the editor will be appended to it. If
    it is a function, it will be called, and is expected to place the
    editor into the document. <code>options</code> may be an element
    mapping <a href="#config">option names</a> to values. The options
    that it doesn't explicitly specify (or all options, if it is not
    passed) will be taken
    from <a href="#defaults"><code>CodeMirror.defaults</code></a>.</p>

    <p>Note that the options object passed to the constructor will be
    mutated when the instance's options
    are <a href="#setOption">changed</a>, so you shouldn't share such
    objects between instances.</p>

    <p>See <a href="#fromTextArea"><code>CodeMirror.fromTextArea</code></a>
    for another way to construct an editor instance.</p>

    <h3 id="api_content">Content manipulation methods</h3>

    <dl>
      <dt id="getValue"><code><strong>doc.getValue</strong>(?separator: string) → string</code></dt>
      <dd>Get the current editor content. You can pass it an optional
      argument to specify the string to be used to separate lines
      (defaults to <code>"\n"</code>).</dd>
      <dt id="setValue"><code><strong>doc.setValue</strong>(content: string)</code></dt>
      <dd>Set the editor content.</dd>

      <dt id="getRange"><code><strong>doc.getRange</strong>(from: {line, ch}, to: {line, ch}, ?separator: string) → string</code></dt>
      <dd>Get the text between the given points in the editor, which
      should be <code>{line, ch}</code> objects. An optional third
      argument can be given to indicate the line separator string to
      use (defaults to <code>"\n"</code>).</dd>
      <dt id="replaceRange"><code><strong>doc.replaceRange</strong>(replacement: string, from: {line, ch}, to: {line, ch}, ?origin: string)</code></dt>
      <dd>Replace the part of the document between <code>from</code>
      and <code>to</code> with the given string. <code>from</code>
      and <code>to</code> must be <code>{line, ch}</code>
      objects. <code>to</code> can be left off to simply insert the
      string at position <code>from</code>. When <code>origin</code>
      is given, it will be passed on
      to <a href="#event_change"><code>"change"</code> events</a>, and
      its first letter will be used to determine whether this change
      can be merged with previous history events, in the way described
      for <a href="#selection_origin">selection origins</a>.</dd>

      <dt id="getLine"><code><strong>doc.getLine</strong>(n: integer) → string</code></dt>
      <dd>Get the content of line <code>n</code>.</dd>

      <dt id="lineCount"><code><strong>doc.lineCount</strong>() → integer</code></dt>
      <dd>Get the number of lines in the editor.</dd>
      <dt id="firstLine"><code><strong>doc.firstLine</strong>() → integer</code></dt>
      <dd>Get the number of first line in the editor. This will
      usually be zero but for <a href="#linkedDoc_from">linked sub-views</a>,
      or <a href="#api_doc">documents</a> instantiated with a non-zero
      first line, it might return other values.</dd>
      <dt id="lastLine"><code><strong>doc.lastLine</strong>() → integer</code></dt>
      <dd>Get the number of last line in the editor. This will
      usually be <code>doc.lineCount() - 1</code>,
      but for <a href="#linkedDoc_from">linked sub-views</a>,
      it might return other values.</dd>

      <dt id="getLineHandle"><code><strong>doc.getLineHandle</strong>(num: integer) → LineHandle</code></dt>
      <dd>Fetches the line handle for the given line number.</dd>
      <dt id="getLineNumber"><code><strong>doc.getLineNumber</strong>(handle: LineHandle) → integer</code></dt>
      <dd>Given a line handle, returns the current position of that
      line (or <code>null</code> when it is no longer in the
      document).</dd>
      <dt id="eachLine"><code><strong>doc.eachLine</strong>(f: (line: LineHandle))</code></dt>
      <dt><code><strong>doc.eachLine</strong>(start: integer, end: integer, f: (line: LineHandle))</code></dt>
      <dd>Iterate over the whole document, or if <code>start</code>
      and <code>end</code> line numbers are given, the range
      from <code>start</code> up to (not including) <code>end</code>,
      and call <code>f</code> for each line, passing the line handle.
      This is a faster way to visit a range of line handlers than
      calling <a href="#getLineHandle"><code>getLineHandle</code></a>
      for each of them. Note that line handles have
      a <code>text</code> property containing the line's content (as a
      string).</dd>

      <dt id="markClean"><code><strong>doc.markClean</strong>()</code></dt>
      <dd>Set the editor content as 'clean', a flag that it will
      retain until it is edited, and which will be set again when such
      an edit is undone again. Useful to track whether the content
      needs to be saved. This function is deprecated in favor
      of <a href="#changeGeneration"><code>changeGeneration</code></a>,
      which allows multiple subsystems to track different notions of
      cleanness without interfering.</dd>
      <dt id="changeGeneration"><code><strong>doc.changeGeneration</strong>(?closeEvent: boolean) → integer</code></dt>
      <dd>Returns a number that can later be passed
      to <a href="#isClean"><code>isClean</code></a> to test whether
      any edits were made (and not undone) in the meantime.
      If <code>closeEvent</code> is true, the current history event
      will be ‘closed’, meaning it can't be combined with further
      changes (rapid typing or deleting events are typically
      combined).</dd>
      <dt id="isClean"><code><strong>doc.isClean</strong>(?generation: integer) → boolean</code></dt>
      <dd>Returns whether the document is currently clean — not
      modified since initialization or the last call
      to <a href="#markClean"><code>markClean</code></a> if no
      argument is passed, or since the matching call
      to <a href="#changeGeneration"><code>changeGeneration</code></a>
      if a generation value is given.</dd>
    </dl>

    <h3 id="api_selection">Cursor and selection methods</h3>

    <dl>
      <dt id="getSelection"><code><strong>doc.getSelection</strong>(?lineSep: string) → string</code></dt>
      <dd>Get the currently selected code. Optionally pass a line
      separator to put between the lines in the output. When multiple
      selections are present, they are concatenated with instances
      of <code>lineSep</code> in between.</dd>
      <dt id="getSelections"><code><strong>doc.getSelections</strong>(?lineSep: string) → array&lt;string&gt;</code></dt>
      <dd>Returns an array containing a string for each selection,
      representing the content of the selections.</dd>

      <dt id="replaceSelection"><code><strong>doc.replaceSelection</strong>(replacement: string, ?select: string)</code></dt>
      <dd>Replace the selection(s) with the given string. By default,
      the new selection ends up after the inserted text. The
      optional <code>select</code> argument can be used to change
      this—passing <code>"around"</code> will cause the new text to be
      selected, passing <code>"start"</code> will collapse the
      selection to the start of the inserted text.</dd>
      <dt id="replaceSelections"><code><strong>doc.replaceSelections</strong>(replacements: array&lt;string&gt;, ?select: string)</code></dt>
      <dd>The length of the given array should be the same as the
      number of active selections. Replaces the content of the
      selections with the strings in the array.
      The <code>select</code> argument works the same as
      in <a href="#replaceSelection"><code>replaceSelection</code></a>.</dd>

      <dt id="getCursor"><code><strong>doc.getCursor</strong>(?start: string) → {line, ch}</code></dt>
      <dd>Retrieve one end of the <em>primary</em>
      selection. <code>start</code> is an optional string indicating
      which end of the selection to return. It may
      be <code>"from"</code>, <code>"to"</code>, <code>"head"</code>
      (the side of the selection that moves when you press
      shift+arrow), or <code>"anchor"</code> (the fixed side of the
      selection). Omitting the argument is the same as
      passing <code>"head"</code>. A <code>{line, ch}</code> object
      will be returned.</dd>
      <dt id="listSelections"><code><strong>doc.listSelections</strong>() → array&lt;{anchor, head}&gt;</code></dt>
      <dd>Retrieves a list of all current selections. These will
      always be sorted, and never overlap (overlapping selections are
      merged). Each object in the array contains <code>anchor</code>
      and <code>head</code> properties referring to <code>{line,
      ch}</code> objects.</dd>

      <dt id="somethingSelected"><code><strong>doc.somethingSelected</strong>() → boolean</code></dt>
      <dd>Return true if any text is selected.</dd>
      <dt id="setCursor"><code><strong>doc.setCursor</strong>(pos: {line, ch}|number, ?ch: number, ?options: object)</code></dt>
      <dd>Set the cursor position. You can either pass a
      single <code>{line, ch}</code> object, or the line and the
      character as two separate parameters. Will replace all
      selections with a single, empty selection at the given position.
      The supported options are the same as for <a href="#setSelection"><code>setSelection</code></a>.</dd>

      <dt id="setSelection"><code><strong>doc.setSelection</strong>(anchor: {line, ch}, ?head: {line, ch}, ?options: object)</code></dt>
      <dd>Set a single selection range. <code>anchor</code>
      and <code>head</code> should be <code>{line, ch}</code>
      objects. <code>head</code> defaults to <code>anchor</code> when
      not given. These options are supported:
      <dl>
        <dt id="selection_scroll"><code><strong>scroll</strong>: boolean</code></dt>
        <dd>Determines whether the selection head should be scrolled
        into view. Defaults to true.</dd>
        <dt id="selection_origin"><code><strong>origin</strong>: string</code></dt>
        <dd>Determines whether the selection history event may be
        merged with the previous one. When an origin starts with the
        character <code>+</code>, and the last recorded selection had
        the same origin and was similar (close
        in <a href="#option_historyEventDelay">time</a>, both
        collapsed or both non-collapsed), the new one will replace the
        old one. When it starts with <code>*</code>, it will always
        replace the previous event (if that had the same origin).
        Built-in motion uses the <code>"+move"</code> origin. User input uses the <code>"+input"</code> origin.</dd>
        <dt id="selection_bias"><code><strong>bias</strong>: number</code></dt>
        <dd>Determine the direction into which the selection endpoints
        should be adjusted when they fall inside
        an <a href="#mark_atomic">atomic</a> range. Can be either -1
        (backward) or 1 (forward). When not given, the bias will be
        based on the relative position of the old selection—the editor
        will try to move further away from that, to prevent getting
        stuck.</dd>
      </dl></dd>

      <dt id="setSelections"><code><strong>doc.setSelections</strong>(ranges: array&lt;{anchor, head}&gt;, ?primary: integer, ?options: object)</code></dt>
      <dd>Sets a new set of selections. There must be at least one
      selection in the given array. When <code>primary</code> is a
      number, it determines which selection is the primary one. When
      it is not given, the primary index is taken from the previous
      selection, or set to the last range if the previous selection
      had less ranges than the new one. Supports the same options
      as <a href="#setSelection"><code>setSelection</code></a>.</dd>
      <dt id="addSelection"><code><strong>doc.addSelection</strong>(anchor: {line, ch}, ?head: {line, ch})</code></dt>
      <dd>Adds a new selection to the existing set of selections, and
      makes it the primary selection.</dd>

      <dt id="extendSelection"><code><strong>doc.extendSelection</strong>(from: {line, ch}, ?to: {line, ch}, ?options: object)</code></dt>
      <dd>Similar
      to <a href="#setSelection"><code>setSelection</code></a>, but
      will, if shift is held or
      the <a href="#setExtending">extending</a> flag is set, move the
      head of the selection while leaving the anchor at its current
      place. <code>to</code> is optional, and can be passed to ensure
      a region (for example a word or paragraph) will end up selected
      (in addition to whatever lies between that region and the
      current anchor). When multiple selections are present, all but
      the primary selection will be dropped by this method.
      Supports the same options as <a href="#setSelection"><code>setSelection</code></a>.</dd>
      <dt id="extendSelections"><code><strong>doc.extendSelections</strong>(heads: array&lt;{line, ch}&gt;, ?options: object)</code></dt>
      <dd>An equivalent
      of <a href="#extendSelection"><code>extendSelection</code></a>
      that acts on all selections at once.</dd>
      <dt id="extendSelectionsBy"><code><strong>doc.extendSelectionsBy</strong>(f: function(range: {anchor, head}) → {line, ch}), ?options: object)</code></dt>
      <dd>Applies the given function to all existing selections, and
      calls <a href="#extendSelections"><code>extendSelections</code></a>
      on the result.</dd>
      <dt id="setExtending"><code><strong>doc.setExtending</strong>(value: boolean)</code></dt>
      <dd>Sets or clears the 'extending' flag, which acts similar to
      the shift key, in that it will cause cursor movement and calls
      to <a href="#extendSelection"><code>extendSelection</code></a>
      to leave the selection anchor in place.</dd>
      <dt id="getExtending"><code><strong>doc.getExtending</strong>() → boolean</code></dt>
      <dd>Get the value of the 'extending' flag.</dd>

      <dt id="hasFocus"><code><strong>cm.hasFocus</strong>() → boolean</code></dt>
      <dd>Tells you whether the editor currently has focus.</dd>

      <dt id="findPosH"><code><strong>cm.findPosH</strong>(start: {line, ch}, amount: integer, unit: string, visually: boolean) → {line, ch, ?hitSide: boolean}</code></dt>
      <dd>Used to find the target position for horizontal cursor
      motion. <code>start</code> is a <code>{line, ch}</code>
      object, <code>amount</code> an integer (may be negative),
      and <code>unit</code> one of the
      string <code>"char"</code>, <code>"column"</code>,
      or <code>"word"</code>. Will return a position that is produced
      by moving <code>amount</code> times the distance specified
      by <code>unit</code>. When <code>visually</code> is true, motion
      in right-to-left text will be visual rather than logical. When
      the motion was clipped by hitting the end or start of the
      document, the returned value will have a <code>hitSide</code>
      property set to true.</dd>
      <dt id="findPosV"><code><strong>cm.findPosV</strong>(start: {line, ch}, amount: integer, unit: string) → {line, ch, ?hitSide: boolean}</code></dt>
      <dd>Similar to <a href="#findPosH"><code>findPosH</code></a>,
      but used for vertical motion. <code>unit</code> may
      be <code>"line"</code> or <code>"page"</code>. The other
      arguments and the returned value have the same interpretation as
      they have in <code>findPosH</code>.</dd>

      <dt id="findWordAt"><code><strong>cm.findWordAt</strong>(pos: {line, ch}) → {anchor: {line, ch}, head: {line, ch}}</code></dt>
      <dd>Returns the start and end of the 'word' (the stretch of
      letters, whitespace, or punctuation) at the given position.</dd>
    </dl>

    <h3 id="api_configuration">Configuration methods</h3>

    <dl>
      <dt id="setOption"><code><strong>cm.setOption</strong>(option: string, value: any)</code></dt>
      <dd>Change the configuration of the editor. <code>option</code>
      should the name of an <a href="#config">option</a>,
      and <code>value</code> should be a valid value for that
      option.</dd>
      <dt id="getOption"><code><strong>cm.getOption</strong>(option: string) → any</code></dt>
      <dd>Retrieves the current value of the given option for this
      editor instance.</dd>

      <dt id="addKeyMap"><code><strong>cm.addKeyMap</strong>(map: object, bottom: boolean)</code></dt>
      <dd>Attach an additional <a href="#keymaps">key map</a> to the
      editor. This is mostly useful for addons that need to register
      some key handlers without trampling on
      the <a href="#option_extraKeys"><code>extraKeys</code></a>
      option. Maps added in this way have a higher precedence than
      the <code>extraKeys</code>
      and <a href="#option_keyMap"><code>keyMap</code></a> options,
      and between them, the maps added earlier have a lower precedence
      than those added later, unless the <code>bottom</code> argument
      was passed, in which case they end up below other key maps added
      with this method.</dd>
      <dt id="removeKeyMap"><code><strong>cm.removeKeyMap</strong>(map: object)</code></dt>
      <dd>Disable a keymap added
      with <a href="#addKeyMap"><code>addKeyMap</code></a>. Either
      pass in the key map object itself, or a string, which will be
      compared against the <code>name</code> property of the active
      key maps.</dd>

      <dt id="addOverlay"><code><strong>cm.addOverlay</strong>(mode: string|object, ?options: object)</code></dt>
      <dd>Enable a highlighting overlay. This is a stateless mini-mode
      that can be used to add extra highlighting. For example,
      the <a href="../demo/search.html">search addon</a> uses it to
      highlight the term that's currently being
      searched. <code>mode</code> can be a <a href="#option_mode">mode
      spec</a> or a mode object (an object with
      a <a href="#token"><code>token</code></a> method).
      The <code>options</code> parameter is optional. If given, it
      should be an object, optionally containing the following options:
        <dl>
          <dt><code><strong>opaque</strong>: bool</code></dt>
          <dd>Defaults to off, but can be given to allow the overlay
          styling, when not <code>null</code>, to override the styling of
          the base mode entirely, instead of the two being applied
          together.</dd>
          <dt><code><strong>priority</strong>: number</code></dt>
          <dd>Determines the ordering in which the overlays are
          applied. Those with high priority are applied after those
          with lower priority, and able to override the opaqueness of
          the ones that come before. Defaults to 0.</dd>
        </dl>
      </dd>

      <dt id="removeOverlay"><code><strong>cm.removeOverlay</strong>(mode: string|object)</code></dt>
      <dd>Pass this the exact value passed for the <code>mode</code>
      parameter to <a href="#addOverlay"><code>addOverlay</code></a>,
      or a string that corresponds to the <code>name</code> property of
      that value, to remove an overlay again.</dd>

      <dt id="on"><code><strong>cm.on</strong>(type: string, func: (...args))</code></dt>
      <dd>Register an event handler for the given event type (a
      string) on the editor instance. There is also
      a <code>CodeMirror.on(object, type, func)</code> version
      that allows registering of events on any object.</dd>
      <dt id="off"><code><strong>cm.off</strong>(type: string, func: (...args))</code></dt>
      <dd>Remove an event handler on the editor instance. An
      equivalent <code>CodeMirror.off(object, type,
      func)</code> also exists.</dd>
    </dl>

    <h3 id="api_doc">Document management methods</h3>

    <p id="Doc">Each editor is associated with an instance
    of <code>CodeMirror.Doc</code>, its document. A document
    represents the editor content, plus a selection, an undo history,
    and a <a href="#option_mode">mode</a>. A document can only be
    associated with a single editor at a time. You can create new
    documents by calling the <code>CodeMirror.Doc(text: string, mode:
    Object, firstLineNumber: ?number, lineSeparator: ?string)</code>
    constructor. The last three arguments are optional and can be used
    to set a mode for the document, make it start at a line number
    other than 0, and set a specific line separator respectively.</p>

    <dl>
      <dt id="getDoc"><code><strong>cm.getDoc</strong>() → Doc</code></dt>
      <dd>Retrieve the currently active document from an editor.</dd>
      <dt id="getEditor"><code><strong>doc.getEditor</strong>() → CodeMirror</code></dt>
      <dd>Retrieve the editor associated with a document. May
      return <code>null</code>.</dd>

      <dt id="swapDoc"><code><strong>cm.swapDoc</strong>(doc: CodeMirror.Doc) → Doc</code></dt>
      <dd>Attach a new document to the editor. Returns the old
      document, which is now no longer associated with an editor.</dd>

      <dt id="copy"><code><strong>doc.copy</strong>(copyHistory: boolean) → Doc</code></dt>
      <dd>Create an identical copy of the given doc.
      When <code>copyHistory</code> is true, the history will also be
      copied. Can not be called directly on an editor.</dd>

      <dt id="linkedDoc"><code><strong>doc.linkedDoc</strong>(options: object) → Doc</code></dt>
      <dd>Create a new document that's linked to the target document.
      Linked documents will stay in sync (changes to one are also
      applied to the other) until <a href="#unlinkDoc">unlinked</a>.
      These are the options that are supported:
        <dl>
          <dt id="linkedDoc_sharedHist"><code><strong>sharedHist</strong>: boolean</code></dt>
          <dd>When turned on, the linked copy will share an undo
          history with the original. Thus, something done in one of
          the two can be undone in the other, and vice versa.</dd>
          <dt id="linkedDoc_from"><code><strong>from</strong>: integer</code></dt>
          <dt id="linkedDoc_to"><code><strong>to</strong>: integer</code></dt>
          <dd>Can be given to make the new document a subview of the
          original. Subviews only show a given range of lines. Note
          that line coordinates inside the subview will be consistent
          with those of the parent, so that for example a subview
          starting at line 10 will refer to its first line as line 10,
          not 0.</dd>
          <dt id="linkedDoc_mode"><code><strong>mode</strong>: string|object</code></dt>
          <dd>By default, the new document inherits the mode of the
          parent. This option can be set to
          a <a href="#option_mode">mode spec</a> to give it a
          different mode.</dd>
        </dl></dd>
      <dt id="unlinkDoc"><code><strong>doc.unlinkDoc</strong>(doc: CodeMirror.Doc)</code></dt>
      <dd>Break the link between two documents. After calling this,
      changes will no longer propagate between the documents, and, if
      they had a shared history, the history will become
      separate.</dd>
      <dt id="iterLinkedDocs"><code><strong>doc.iterLinkedDocs</strong>(function: (doc: CodeMirror.Doc, sharedHist: boolean))</code></dt>
      <dd>Will call the given function for all documents linked to the
      target document. It will be passed two arguments, the linked document
      and a boolean indicating whether that document shares history
      with the target.</dd>
    </dl>

    <h3 id="api_history">History-related methods</h3>

    <dl>
      <dt id="undo"><code><strong>doc.undo</strong>()</code></dt>
      <dd>Undo one edit (if any undo events are stored).</dd>
      <dt id="redo"><code><strong>doc.redo</strong>()</code></dt>
      <dd>Redo one undone edit.</dd>

      <dt id="undoSelection"><code><strong>doc.undoSelection</strong>()</code></dt>
      <dd>Undo one edit or selection change.</dd>
      <dt id="redoSelection"><code><strong>doc.redoSelection</strong>()</code></dt>
      <dd>Redo one undone edit or selection change.</dd>

      <dt id="historySize"><code><strong>doc.historySize</strong>() → {undo: integer, redo: integer}</code></dt>
      <dd>Returns an object with <code>{undo, redo}</code> properties,
      both of which hold integers, indicating the amount of stored
      undo and redo operations.</dd>
      <dt id="clearHistory"><code><strong>doc.clearHistory</strong>()</code></dt>
      <dd>Clears the editor's undo history.</dd>
      <dt id="getHistory"><code><strong>doc.getHistory</strong>() → object</code></dt>
      <dd>Get a (JSON-serializable) representation of the undo history.</dd>
      <dt id="setHistory"><code><strong>doc.setHistory</strong>(history: object)</code></dt>
      <dd>Replace the editor's undo history with the one provided,
      which must be a value as returned
      by <a href="#getHistory"><code>getHistory</code></a>. Note that
      this will have entirely undefined results if the editor content
      isn't also the same as it was when <code>getHistory</code> was
      called.</dd>
    </dl>

    <h3 id="api_marker">Text-marking methods</h3>

    <dl>
      <dt id="markText"><code><strong>doc.markText</strong>(from: {line, ch}, to: {line, ch}, ?options: object) → TextMarker</code></dt>
      <dd>Can be used to mark a range of text with a specific CSS
      class name. <code>from</code> and <code>to</code> should
      be <code>{line, ch}</code> objects. The <code>options</code>
      parameter is optional. When given, it should be an object that
      may contain the following configuration options:
      <dl>
        <dt id="mark_className"><code><strong>className</strong>: string</code></dt>
        <dd>Assigns a CSS class to the marked stretch of text.</dd>
        <dt id="mark_inclusiveLeft"><code><strong>inclusiveLeft</strong>: boolean</code></dt>
        <dd>Determines whether
        text inserted on the left of the marker will end up inside
        or outside of it.</dd>
        <dt id="mark_inclusiveRight"><code><strong>inclusiveRight</strong>: boolean</code></dt>
        <dd>Like <code>inclusiveLeft</code>,
        but for the right side.</dd>
        <dt id="mark_selectLeft"><code><strong>selectLeft</strong>: boolean</code></dt>
        <dd>For atomic ranges, determines whether the cursor is allowed
        to be placed directly to the left of the range. Has no effect on
        non-atomic ranges.</dd>
        <dt id="mark_selectRight"><code><strong>selectRight</strong>: boolean</code></dt>
        <dd>Like <code>selectLeft</code>,
        but for the right side.</dd>
        <dt id="mark_atomic"><code><strong>atomic</strong>: boolean</code></dt>
        <dd>Atomic ranges act as a single unit when cursor movement is
        concerned—i.e. it is impossible to place the cursor inside of
        them. You can control whether the cursor is allowed to be placed
        directly before or after them using <code>selectLeft</code>
        or <code>selectRight</code>. If <code>selectLeft</code>
        (or right) is not provided, then <code>inclusiveLeft</code> (or
        right) will control this behavior.</dd>
        <dt id="mark_collapsed"><code><strong>collapsed</strong>: boolean</code></dt>
        <dd>Collapsed ranges do not show up in the display. Setting a
        range to be collapsed will automatically make it atomic.</dd>
        <dt id="mark_clearOnEnter"><code><strong>clearOnEnter</strong>: boolean</code></dt>
        <dd>When enabled, will cause the mark to clear itself whenever
        the cursor enters its range. This is mostly useful for
        text-replacement widgets that need to 'snap open' when the
        user tries to edit them. The
        <a href="#event_clear"><code>"clear"</code></a> event
        fired on the range handle can be used to be notified when this
        happens.</dd>
        <dt id="mark_clearWhenEmpty"><code><strong>clearWhenEmpty</strong>: boolean</code></dt>
        <dd>Determines whether the mark is automatically cleared when
        it becomes empty. Default is true.</dd>
        <dt id="mark_replacedWith"><code><strong>replacedWith</strong>: Element</code></dt>
        <dd>Use a given node to display this range. Implies both
        collapsed and atomic. The given DOM node <em>must</em> be an
        inline element (as opposed to a block element).</dd>
        <dt><code><strong>handleMouseEvents</strong>: boolean</code></dt>
        <dd>When <code>replacedWith</code> is given, this determines
        whether the editor will capture mouse and drag events
        occurring in this widget. Default is false—the events will be
        left alone for the default browser handler, or specific
        handlers on the widget, to capture.</dd>
        <dt id="mark_readOnly"><code><strong>readOnly</strong>: boolean</code></dt>
        <dd>A read-only span can, as long as it is not cleared, not be
        modified except by
        calling <a href="#setValue"><code>setValue</code></a> to reset
        the whole document. <em>Note:</em> adding a read-only span
        currently clears the undo history of the editor, because
        existing undo events being partially nullified by read-only
        spans would corrupt the history (in the current
        implementation).</dd>
        <dt id="mark_addToHistory"><code><strong>addToHistory</strong>: boolean</code></dt>
        <dd>When set to true (default is false), adding this marker
        will create an event in the undo history that can be
        individually undone (clearing the marker).</dd>
        <dt id="mark_startStyle"><code><strong>startStyle</strong>: string</code></dt><dd>Can be used to specify
        an extra CSS class to be applied to the leftmost span that
        is part of the marker.</dd>
        <dt id="mark_endStyle"><code><strong>endStyle</strong>: string</code></dt><dd>Equivalent
        to <code>startStyle</code>, but for the rightmost span.</dd>
        <dt id="mark_css"><code><strong>css</strong>: string</code></dt>
        <dd>A string of CSS to be applied to the covered text. For example <code>"color: #fe3"</code>.</dd>
        <dt id="mark_attributes"><code><strong>attributes</strong>: object</code></dt>
        <dd>When given, add the attributes in the given object to the
        elements created for the marked text. Adding <code>class</code> or
        <code>style</code> attributes this way is not supported.</dd>
        <dt id="mark_shared"><code><strong>shared</strong>: boolean</code></dt><dd>When the
        target document is <a href="#linkedDoc">linked</a> to other
        documents, you can set <code>shared</code> to true to make the
        marker appear in all documents. By default, a marker appears
        only in its target document.</dd>
      </dl>
      The method will return an object that represents the marker
      (with constructor <code>CodeMirror.TextMarker</code>), which
      exposes three methods:
      <code><strong>clear</strong>()</code>, to remove the mark,
      <code><strong>find</strong>()</code>, which returns
      a <code>{from, to}</code> object (both holding document
      positions), indicating the current position of the marked range,
      or <code>undefined</code> if the marker is no longer in the
      document, and finally <code><strong>changed</strong>()</code>,
      which you can call if you've done something that might change
      the size of the marker (for example changing the content of
      a <a href="#mark_replacedWith"><code>replacedWith</code></a>
      node), and want to cheaply update the display.</dd>

      <dt id="setBookmark"><code><strong>doc.setBookmark</strong>(pos: {line, ch}, ?options: object) → TextMarker</code></dt>
      <dd>Inserts a bookmark, a handle that follows the text around it
      as it is being edited, at the given position. A bookmark has two
      methods <code>find()</code> and <code>clear()</code>. The first
      returns the current position of the bookmark, if it is still in
      the document, and the second explicitly removes the bookmark.
      The options argument is optional. If given, the following
      properties are recognized:
      <dl>
        <dt><code><strong>widget</strong>: Element</code></dt><dd>Can be used to display a DOM
        node at the current location of the bookmark (analogous to
        the <a href="#mark_replacedWith"><code>replacedWith</code></a>
        option to <a href="#markText"><code>markText</code></a>).</dd>
        <dt><code><strong>insertLeft</strong>: boolean</code></dt><dd>By default, text typed
        when the cursor is on top of the bookmark will end up to the
        right of the bookmark. Set this option to true to make it go
        to the left instead.</dd>
        <dt><code><strong>shared</strong>: boolean</code></dt><dd>See
        the corresponding <a href="#mark_shared">option</a>
        to <code>markText</code>.</dd>
        <dt><code><strong>handleMouseEvents</strong>: boolean</code></dt>
        <dd>As with <a href="#markText"><code>markText</code></a>,
        this determines whether mouse events on the widget inserted
        for this bookmark are handled by CodeMirror. The default is
        false.</dd>
      </dl></dd>

      <dt id="findMarks"><code><strong>doc.findMarks</strong>(from: {line, ch}, to: {line, ch}) → array&lt;TextMarker&gt;</code></dt>
      <dd>Returns an array of all the bookmarks and marked ranges
      found between the given positions (non-inclusive).</dd>
      <dt id="findMarksAt"><code><strong>doc.findMarksAt</strong>(pos: {line, ch}) → array&lt;TextMarker&gt;</code></dt>
      <dd>Returns an array of all the bookmarks and marked ranges
      present at the given position.</dd>
      <dt id="getAllMarks"><code><strong>doc.getAllMarks</strong>() → array&lt;TextMarker&gt;</code></dt>
      <dd>Returns an array containing all marked ranges in the document.</dd>
    </dl>

    <h3 id="api_decoration">Widget, gutter, and decoration methods</h3>

    <dl>
      <dt id="setGutterMarker"><code><strong>doc.setGutterMarker</strong>(line: integer|LineHandle, gutterID: string, value: Element) → LineHandle</code></dt>
      <dd>Sets the gutter marker for the given gutter (identified by
      its CSS class, see
      the <a href="#option_gutters"><code>gutters</code></a> option)
      to the given value. Value can be either <code>null</code>, to
      clear the marker, or a DOM element, to set it. The DOM element
      will be shown in the specified gutter next to the specified
      line.</dd>

      <dt id="clearGutter"><code><strong>doc.clearGutter</strong>(gutterID: string)</code></dt>
      <dd>Remove all gutter markers in
      the <a href="#option_gutters">gutter</a> with the given ID.</dd>

      <dt id="addLineClass"><code><strong>doc.addLineClass</strong>(line: integer|LineHandle, where: string, class: string) → LineHandle</code></dt>
      <dd>Set a CSS class name for the given line. <code>line</code>
      can be a number or a line handle. <code>where</code> determines
      to which element this class should be applied, can can be one
      of <code>"text"</code> (the text element, which lies in front of
      the selection), <code>"background"</code> (a background element
      that will be behind the selection), <code>"gutter"</code> (the
      line's gutter space), or <code>"wrap"</code> (the wrapper node
      that wraps all of the line's elements, including gutter
      elements). <code>class</code> should be the name of the class to
      apply.</dd>

      <dt id="removeLineClass"><code><strong>doc.removeLineClass</strong>(line: integer|LineHandle, where: string, class: string) → LineHandle</code></dt>
      <dd>Remove a CSS class from a line. <code>line</code> can be a
      line handle or number. <code>where</code> should be one
      of <code>"text"</code>, <code>"background"</code>,
      or <code>"wrap"</code>
      (see <a href="#addLineClass"><code>addLineClass</code></a>). <code>class</code>
      can be left off to remove all classes for the specified node, or
      be a string to remove only a specific class.</dd>

      <dt id="lineInfo"><code><strong>doc.lineInfo</strong>(line: integer|LineHandle) → object</code></dt>
      <dd>Returns the line number, text content, and marker status of
      the given line, which can be either a number or a line handle.
      The returned object has the structure <code>{line, handle, text,
      gutterMarkers, textClass, bgClass, wrapClass, widgets}</code>,
      where <code>gutterMarkers</code> is an object mapping gutter IDs
      to marker elements, and <code>widgets</code> is an array
      of <a href="#addLineWidget">line widgets</a> attached to this
      line, and the various class properties refer to classes added
      with <a href="#addLineClass"><code>addLineClass</code></a>.</dd>

      <dt id="addWidget"><code><strong>cm.addWidget</strong>(pos: {line, ch}, node: Element, scrollIntoView: boolean)</code></dt>
      <dd>Puts <code>node</code>, which should be an absolutely
      positioned DOM node, into the editor, positioned right below the
      given <code>{line, ch}</code> position.
      When <code>scrollIntoView</code> is true, the editor will ensure
      that the entire node is visible (if possible). To remove the
      widget again, simply use DOM methods (move it somewhere else, or
      call <code>removeChild</code> on its parent).</dd>

      <dt id="addLineWidget"><code><strong>doc.addLineWidget</strong>(line: integer|LineHandle, node: Element, ?options: object) → LineWidget</code></dt>
      <dd>Adds a line widget, an element shown below a line, spanning
      the whole of the editor's width, and moving the lines below it
      downwards. <code>line</code> should be either an integer or a
      line handle, and <code>node</code> should be a DOM node, which
      will be displayed below the given line. <code>options</code>,
      when given, should be an object that configures the behavior of
      the widget. The following options are supported (all default to
      false):
        <dl>
          <dt><code><strong>coverGutter</strong>: boolean</code></dt>
          <dd>Whether the widget should cover the gutter.</dd>
          <dt><code><strong>noHScroll</strong>: boolean</code></dt>
          <dd>Whether the widget should stay fixed in the face of
          horizontal scrolling.</dd>
          <dt><code><strong>above</strong>: boolean</code></dt>
          <dd>Causes the widget to be placed above instead of below
          the text of the line.</dd>
          <dt><code><strong>handleMouseEvents</strong>: boolean</code></dt>
          <dd>Determines whether the editor will capture mouse and
          drag events occurring in this widget. Default is false—the
          events will be left alone for the default browser handler,
          or specific handlers on the widget, to capture.</dd>
          <dt><code><strong>insertAt</strong>: integer</code></dt>
          <dd>By default, the widget is added below other widgets for
          the line. This option can be used to place it at a different
          position (zero for the top, N to put it after the Nth other
          widget). Note that this only has effect once, when the
          widget is created.
          <dt><code><strong>className</strong>: string</code></dt>
          <dd>Add an extra CSS class name to the wrapper element
          created for the widget.</dd>
        </dl>
      Note that the widget node will become a descendant of nodes with
      CodeMirror-specific CSS classes, and those classes might in some
      cases affect it. This method returns an object that represents
      the widget placement. It'll have a <code>line</code> property
      pointing at the line handle that it is associated with, and the following methods:
        <dl>
          <dt id="widget_clear"><code><strong>clear</strong>()</code></dt><dd>Removes the widget.</dd>
          <dt id="widget_changed"><code><strong>changed</strong>()</code></dt><dd>Call
          this if you made some change to the widget's DOM node that
          might affect its height. It'll force CodeMirror to update
          the height of the line that contains the widget.</dd>
        </dl>
      </dd>
    </dl>

    <h3 id="api_sizing">Sizing, scrolling and positioning methods</h3>

    <dl>
      <dt id="setSize"><code><strong>cm.setSize</strong>(width: number|string, height: number|string)</code></dt>
      <dd>Programmatically set the size of the editor (overriding the
      applicable <a href="#css-resize">CSS
      rules</a>). <code>width</code> and <code>height</code>
      can be either numbers (interpreted as pixels) or CSS units
      (<code>"100%"</code>, for example). You can
      pass <code>null</code> for either of them to indicate that that
      dimension should not be changed.</dd>

      <dt id="scrollTo"><code><strong>cm.scrollTo</strong>(x: number, y: number)</code></dt>
      <dd>Scroll the editor to a given (pixel) position. Both
      arguments may be left as <code>null</code>
      or <code>undefined</code> to have no effect.</dd>
      <dt id="getScrollInfo"><code><strong>cm.getScrollInfo</strong>() → {left, top, width, height, clientWidth, clientHeight}</code></dt>
      <dd>Get an <code>{left, top, width, height, clientWidth,
      clientHeight}</code> object that represents the current scroll
      position, the size of the scrollable area, and the size of the
      visible area (minus scrollbars).</dd>
      <dt id="scrollIntoView"><code><strong>cm.scrollIntoView</strong>(what: {line, ch}|{left, top, right, bottom}|{from, to}|null, ?margin: number)</code></dt>
      <dd>Scrolls the given position into view. <code>what</code> may
      be <code>null</code> to scroll the cursor into view,
      a <code>{line, ch}</code> position to scroll a character into
      view, a <code>{left, top, right, bottom}</code> pixel range (in
      editor-local coordinates), or a range <code>{from, to}</code>
      containing either two character positions or two pixel squares.
      The <code>margin</code> parameter is optional. When given, it
      indicates the amount of vertical pixels around the given area
      that should be made visible as well.</dd>

      <dt id="cursorCoords"><code><strong>cm.cursorCoords</strong>(where: boolean|{line, ch}, mode: string) → {left, top, bottom}</code></dt>
      <dd>Returns an <code>{left, top, bottom}</code> object
      containing the coordinates of the cursor position.
      If <code>mode</code> is <code>"local"</code>, they will be
      relative to the top-left corner of the editable document. If it
      is <code>"page"</code> or not given, they are relative to the
      top-left corner of the page. If <code>mode</code>
      is <code>"window"</code>, the coordinates are relative to the
      top-left corner of the currently visible (scrolled)
      window. <code>where</code> can be a boolean indicating whether
      you want the start (<code>true</code>) or the end
      (<code>false</code>) of the selection, or, if a <code>{line,
      ch}</code> object is given, it specifies the precise position at
      which you want to measure.</dd>
      <dt id="charCoords"><code><strong>cm.charCoords</strong>(pos: {line, ch}, ?mode: string) → {left, right, top, bottom}</code></dt>
      <dd>Returns the position and dimensions of an arbitrary
      character. <code>pos</code> should be a <code>{line, ch}</code>
      object. This differs from <code>cursorCoords</code> in that
      it'll give the size of the whole character, rather than just the
      position that the cursor would have when it would sit at that
      position.</dd>
      <dt id="coordsChar"><code><strong>cm.coordsChar</strong>(object: {left, top}, ?mode: string) → {line, ch}</code></dt>
      <dd>Given an <code>{left, top}</code> object (e.g. coordinates of a mouse event) returns
      the <code>{line, ch}</code> position that corresponds to it. The
      optional <code>mode</code> parameter determines relative to what
      the coordinates are interpreted. It may
      be <code>"window"</code>, <code>"page"</code> (the default),
      or <code>"local"</code>.</dd>
      <dt id="lineAtHeight"><code><strong>cm.lineAtHeight</strong>(height: number, ?mode: string) → number</code></dt>
      <dd>Computes the line at the given pixel
      height. <code>mode</code> can be one of the same strings
      that <a href="#coordsChar"><code>coordsChar</code></a>
      accepts.</dd>
      <dt id="heightAtLine"><code><strong>cm.heightAtLine</strong>(line: integer|LineHandle, ?mode: string, ?includeWidgets: bool) → number</code></dt>
      <dd>Computes the height of the top of a line, in the coordinate
      system specified by <code>mode</code>
      (see <a href="#coordsChar"><code>coordsChar</code></a>), which
      defaults to <code>"page"</code>. When a line below the bottom of
      the document is specified, the returned value is the bottom of
      the last line in the document. By default, the position of the
      actual text is returned. If `includeWidgets` is true and the
      line has line widgets, the position above the first line widget
      is returned.</dd>
      <dt id="defaultTextHeight"><code><strong>cm.defaultTextHeight</strong>() → number</code></dt>
      <dd>Returns the line height of the default font for the editor.</dd>
      <dt id="defaultCharWidth"><code><strong>cm.defaultCharWidth</strong>() → number</code></dt>
      <dd>Returns the pixel width of an 'x' in the default font for
      the editor. (Note that for non-monospace fonts, this is mostly
      useless, and even for monospace fonts, non-ascii characters
      might have a different width).</dd>

      <dt id="getViewport"><code><strong>cm.getViewport</strong>() → {from: number, to: number}</code></dt>
      <dd>Returns a <code>{from, to}</code> object indicating the
      start (inclusive) and end (exclusive) of the currently rendered
      part of the document. In big documents, when most content is
      scrolled out of view, CodeMirror will only render the visible
      part, and a margin around it. See also
      the <a href="#event_viewportChange"><code>viewportChange</code></a>
      event.</dd>

      <dt id="refresh"><code><strong>cm.refresh</strong>()</code></dt>
      <dd>If your code does something to change the size of the editor
      element (window resizes are already listened for), or unhides
      it, you should probably follow up by calling this method to
      ensure CodeMirror is still looking as intended. See also
      the <a href="#addon_autorefresh">autorefresh addon</a>.</dd>
    </dl>

    <h3 id="api_mode">Mode, state, and token-related methods</h3>

    <p>When writing language-aware functionality, it can often be
    useful to hook into the knowledge that the CodeMirror language
    mode has. See <a href="#modeapi">the section on modes</a> for a
    more detailed description of how these work.</p>

    <dl>
      <dt id="getMode"><code><strong>doc.getMode</strong>() → object</code></dt>
      <dd>Gets the (outer) mode object for the editor. Note that this
      is distinct from <code>getOption("mode")</code>, which gives you
      the mode specification, rather than the resolved, instantiated
      <a href="#defineMode">mode object</a>.</dd>

      <dt id="getModeAt"><code><strong>cm.getModeAt</strong>(pos: {line, ch}) → object</code></dt>
      <dd>Gets the inner mode at a given position. This will return
      the same as <a href="#getMode"><code>getMode</code></a> for
      simple modes, but will return an inner mode for nesting modes
      (such as <code>htmlmixed</code>).</dd>

      <dt id="getTokenAt"><code><strong>cm.getTokenAt</strong>(pos: {line, ch}, ?precise: boolean) → object</code></dt>
      <dd>Retrieves information about the token the current mode found
      before the given position (a <code>{line, ch}</code> object). The
      returned object has the following properties:
      <dl>
        <dt><code><strong>start</strong></code></dt><dd>The character (on the given line) at which the token starts.</dd>
        <dt><code><strong>end</strong></code></dt><dd>The character at which the token ends.</dd>
        <dt><code><strong>string</strong></code></dt><dd>The token's string.</dd>
        <dt><code><strong>type</strong></code></dt><dd>The token type the mode assigned
        to the token, such as <code>"keyword"</code>
        or <code>"comment"</code> (may also be null).</dd>
        <dt><code><strong>state</strong></code></dt><dd>The mode's state at the end of this token.</dd>
      </dl>
      If <code>precise</code> is true, the token will be guaranteed to be accurate based on recent edits. If false or
      not specified, the token will use cached state information, which will be faster but might not be accurate if
      edits were recently made and highlighting has not yet completed.
      </dd>

      <dt id="getLineTokens"><code><strong>cm.getLineTokens</strong>(line: integer, ?precise: boolean) → array&lt;{start, end, string, type, state}&gt;</code></dt>
      <dd>This is similar
      to <a href="#getTokenAt"><code>getTokenAt</code></a>, but
      collects all tokens for a given line into an array. It is much
      cheaper than repeatedly calling <code>getTokenAt</code>, which
      re-parses the part of the line before the token for every call.</dd>

      <dt id="getTokenTypeAt"><code><strong>cm.getTokenTypeAt</strong>(pos: {line, ch}) → string</code></dt>
      <dd>This is a (much) cheaper version
      of <a href="#getTokenAt"><code>getTokenAt</code></a> useful for
      when you just need the type of the token at a given position,
      and no other information. Will return <code>null</code> for
      unstyled tokens, and a string, potentially containing multiple
      space-separated style names, otherwise.</dd>

      <dt id="getHelpers"><code><strong>cm.getHelpers</strong>(pos: {line, ch}, type: string) → array&lt;helper&gt;</code></dt>
      <dd>Fetch the set of applicable helper values for the given
      position. Helpers provide a way to look up functionality
      appropriate for a mode. The <code>type</code> argument provides
      the helper namespace (see
      <a href="#registerHelper"><code>registerHelper</code></a>), in
      which the values will be looked up. When the mode itself has a
      property that corresponds to the <code>type</code>, that
      directly determines the keys that are used to look up the helper
      values (it may be either a single string, or an array of
      strings). Failing that, the mode's <code>helperType</code>
      property and finally the mode's name are used.</dd>
      <dd>For example, the JavaScript mode has a
      property <code>fold</code> containing <code>"brace"</code>. When
      the <code>brace-fold</code> addon is loaded, that defines a
      helper named <code>brace</code> in the <code>fold</code>
      namespace. This is then used by
      the <a href="#addon_foldcode"><code>foldcode</code></a> addon to
      figure out that it can use that folding function to fold
      JavaScript code.</dd>
      <dd>When any <a href="#registerGlobalHelper">'global'</a>
      helpers are defined for the given namespace, their predicates
      are called on the current mode and editor, and all those that
      declare they are applicable will also be added to the array that
      is returned.</dd>

      <dt id="getHelper"><code><strong>cm.getHelper</strong>(pos: {line, ch}, type: string) → helper</code></dt>
      <dd>Returns the first applicable helper value.
      See <a href="#getHelpers"><code>getHelpers</code></a>.</dd>

      <dt id="getStateAfter"><code><strong>cm.getStateAfter</strong>(?line: integer, ?precise: boolean) → object</code></dt>
      <dd>Returns the mode's parser state, if any, at the end of the
      given line number. If no line number is given, the state at the
      end of the document is returned. This can be useful for storing
      parsing errors in the state, or getting other kinds of
      contextual information for a line. <code>precise</code> is defined
      as in <code>getTokenAt()</code>.</dd>
    </dl>

    <h3 id="api_misc">Miscellaneous methods</h3>

    <dl>
      <dt id="operation"><code><strong>cm.operation</strong>(func: () → any) → any</code></dt>
      <dd>CodeMirror internally buffers changes and only updates its
      DOM structure after it has finished performing some operation.
      If you need to perform a lot of operations on a CodeMirror
      instance, you can call this method with a function argument. It
      will call the function, buffering up all changes, and only doing
      the expensive update after the function returns. This can be a
      lot faster. The return value from this method will be the return
      value of your function.</dd>

      <dt id="startOperation"><code><strong>cm.startOperation</strong>()</code></dt>
      <dt id="endOperation"><code><strong>cm.endOperation</strong>()</code></dt>
      <dd>In normal circumstances, use the above <code>operation</code>
      method. But if you want to buffer operations happening asynchronously,
      or that can't all be wrapped in a callback function, you can
      call <code>startOperation</code> to tell CodeMirror to start
      buffering changes, and <code>endOperation</code> to actually
      render all the updates. <em>Be careful:</em> if you use this
      API and forget to call <code>endOperation</code>, the editor will
      just never update.</dd>

      <dt id="indentLine"><code><strong>cm.indentLine</strong>(line: integer, ?dir: string|integer)</code></dt>
      <dd>Adjust the indentation of the given line. The second
      argument (which defaults to <code>"smart"</code>) may be one of:
        <dl>
          <dt><code><strong>"prev"</strong></code></dt>
          <dd>Base indentation on the indentation of the previous line.</dd>
          <dt><code><strong>"smart"</strong></code></dt>
          <dd>Use the mode's smart indentation if available, behave
          like <code>"prev"</code> otherwise.</dd>
          <dt><code><strong>"add"</strong></code></dt>
          <dd>Increase the indentation of the line by
          one <a href="#option_indentUnit">indent unit</a>.</dd>
          <dt><code><strong>"subtract"</strong></code></dt>
          <dd>Reduce the indentation of the line.</dd>
          <dt><code><strong>&lt;integer></strong></code></dt>
          <dd>Add (positive number) or reduce (negative number) the
          indentation by the given amount of spaces.</dd>
        </dl></dd>

      <dt id="toggleOverwrite"><code><strong>cm.toggleOverwrite</strong>(?value: boolean)</code></dt>
      <dd>Switches between overwrite and normal insert mode (when not
      given an argument), or sets the overwrite mode to a specific
      state (when given an argument).</dd>

      <dt id="isReadOnly"><code><strong>cm.isReadOnly</strong>() → boolean</code></dt>
      <dd>Tells you whether the editor's content can be edited by the
      user.</dd>

      <dt id="lineSeparator"><code><strong>doc.lineSeparator</strong>()</code></dt>
      <dd>Returns the preferred line separator string for this
      document, as per the <a href="#option_lineSeparator">option</a>
      by the same name. When that option is <code>null</code>, the
      string <code>"\n"</code> is returned.</dd>

      <dt id="execCommand"><code><strong>cm.execCommand</strong>(name: string)</code></dt>
      <dd>Runs the <a href="#commands">command</a> with the given name on the editor.</dd>

      <dt id="posFromIndex"><code><strong>doc.posFromIndex</strong>(index: integer) → {line, ch}</code></dt>
      <dd>Calculates and returns a <code>{line, ch}</code> object for a
      zero-based <code>index</code> who's value is relative to the start of the
      editor's text. If the <code>index</code> is out of range of the text then
      the returned object is clipped to start or end of the text
      respectively.</dd>
      <dt id="indexFromPos"><code><strong>doc.indexFromPos</strong>(object: {line, ch}) → integer</code></dt>
      <dd>The reverse of <a href="#posFromIndex"><code>posFromIndex</code></a>.</dd>

      <dt id="focus"><code><strong>cm.focus</strong>()</code></dt>
      <dd>Give the editor focus.</dd>

      <dt id="phrase"><code><strong>cm.phrase</strong>(text: string) → string</code></dt>
      <dd>Allow the given string to be translated with
      the <a href="#option_phrases"><code>phrases</code>
      option</a>.</dd>

      <dt id="getInputField"><code><strong>cm.getInputField</strong>() → Element</code></dt>
      <dd>Returns the input field for the editor. Will be a textarea
      or an editable div, depending on the value of
      the <a href="#option_inputStyle"><code>inputStyle</code></a>
      option.</dd>
      <dt id="getWrapperElement"><code><strong>cm.getWrapperElement</strong>() → Element</code></dt>
      <dd>Returns the DOM node that represents the editor, and
      controls its size. Remove this from your tree to delete an
      editor instance.</dd>
      <dt id="getScrollerElement"><code><strong>cm.getScrollerElement</strong>() → Element</code></dt>
      <dd>Returns the DOM node that is responsible for the scrolling
      of the editor.</dd>
      <dt id="getGutterElement"><code><strong>cm.getGutterElement</strong>() → Element</code></dt>
      <dd>Fetches the DOM node that contains the editor gutters.</dd>
    </dl>

    <h3 id="api_static">Static properties</h3>
    <p>The <code>CodeMirror</code> object itself provides
    several useful properties.</p>

    <dl>
      <dt id="version"><code><strong>CodeMirror.version</strong>: string</code></dt>
      <dd>It contains a string that indicates the version of the
      library. This is a triple of
      integers <code>"major.minor.patch"</code>,
      where <code>patch</code> is zero for releases, and something
      else (usually one) for dev snapshots.</dd>

      <dt id="fromTextArea"><code><strong>CodeMirror.fromTextArea</strong>(textArea: TextAreaElement, ?config: object)</code></dt>
      <dd>This method provides another way to initialize an editor. It
      takes a textarea DOM node as first argument and an optional
      configuration object as second. It will replace the textarea
      with a CodeMirror instance, and wire up the form of that
      textarea (if any) to make sure the editor contents are put into
      the textarea when the form is submitted. The text in the
      textarea will provide the content for the editor. A CodeMirror
      instance created this way has three additional methods:
      <dl>
        <dt id="save"><code><strong>cm.save</strong>()</code></dt>
        <dd>Copy the content of the editor into the textarea.</dd>

        <dt id="toTextArea"><code><strong>cm.toTextArea</strong>()</code></dt>
        <dd>Remove the editor, and restore the original textarea (with
        the editor's current content). If you dynamically create and
        destroy editors made with `fromTextArea`, without destroying
        the form they are part of, you should make sure to call
        `toTextArea` to remove the editor, or its `"submit"` handler
        on the form will cause a memory leak.</dd>

        <dt id="getTextArea"><code><strong>cm.getTextArea</strong>() → TextAreaElement</code></dt>
        <dd>Returns the textarea that the instance was based on.</dd>
      </dl>
      </dd>

      <dt id="defaults"><code><strong>CodeMirror.defaults</strong>: object</code></dt>
      <dd>An object containing default values for
      all <a href="#config">options</a>. You can assign to its
      properties to modify defaults (though this won't affect editors
      that have already been created).</dd>

      <dt id="defineExtension"><code><strong>CodeMirror.defineExtension</strong>(name: string, value: any)</code></dt>
      <dd>If you want to define extra methods in terms of the
      CodeMirror API, it is possible to
      use <code>defineExtension</code>. This will cause the given
      value (usually a method) to be added to all CodeMirror instances
      created from then on.</dd>

      <dt id="defineDocExtension"><code><strong>CodeMirror.defineDocExtension</strong>(name: string, value: any)</code></dt>
      <dd>Like <a href="#defineExtension"><code>defineExtension</code></a>,
      but the method will be added to the interface
      for <a href="#Doc"><code>Doc</code></a> objects instead.</dd>

      <dt id="defineOption"><code><strong>CodeMirror.defineOption</strong>(name: string,
      default: any, updateFunc: function)</code></dt>
      <dd>Similarly, <code>defineOption</code> can be used to define new options for
      CodeMirror. The <code>updateFunc</code> will be called with the
      editor instance and the new value when an editor is initialized,
      and whenever the option is modified
      through <a href="#setOption"><code>setOption</code></a>.</dd>

      <dt id="defineInitHook"><code><strong>CodeMirror.defineInitHook</strong>(func: function)</code></dt>
      <dd>If your extension just needs to run some
      code whenever a CodeMirror instance is initialized,
      use <code>CodeMirror.defineInitHook</code>. Give it a function as
      its only argument, and from then on, that function will be called
      (with the instance as argument) whenever a new CodeMirror instance
      is initialized.</dd>

      <dt id="registerHelper"><code><strong>CodeMirror.registerHelper</strong>(type: string, name: string, value: helper)</code></dt>
      <dd>Registers a helper value with the given <code>name</code> in
      the given namespace (<code>type</code>). This is used to define
      functionality that may be looked up by mode. Will create (if it
      doesn't already exist) a property on the <code>CodeMirror</code>
      object for the given <code>type</code>, pointing to an object
      that maps names to values. I.e. after
      doing <code>CodeMirror.registerHelper("hint", "foo",
      myFoo)</code>, the value <code>CodeMirror.hint.foo</code> will
      point to <code>myFoo</code>.</dd>

      <dt id="registerGlobalHelper"><code><strong>CodeMirror.registerGlobalHelper</strong>(type: string, name: string, predicate: fn(mode, CodeMirror), value: helper)</code></dt>
      <dd>Acts
      like <a href="#registerHelper"><code>registerHelper</code></a>,
      but also registers this helper as 'global', meaning that it will
      be included by <a href="#getHelpers"><code>getHelpers</code></a>
      whenever the given <code>predicate</code> returns true when
      called with the local mode and editor.</dd>

      <dt id="Pos"><code><strong>CodeMirror.Pos</strong>(line: integer, ?ch: integer, ?sticky: string)</code></dt>
      <dd>A constructor for the objects that are used to represent
      positions in editor documents. <code>sticky</code> defaults to
      null, but can be set to <code>"before"</code>
      or <code>"after"</code> to make the position explicitly
      associate with the character before or after it.</dd>

      <dt id="changeEnd"><code><strong>CodeMirror.changeEnd</strong>(change: object) → {line, ch}</code></dt>
      <dd>Utility function that computes an end position from a change
      (an object with <code>from</code>, <code>to</code>,
      and <code>text</code> properties, as passed to
      various <a href="#event_change">event handlers</a>). The
      returned position will be the end of the changed
      range, <em>after</em> the change is applied.</dd>

      <dt id="countColumn"><code><strong>CodeMirror.countColumn</strong>(line: string, index: number, tabSize: number) → number</code></dt>
      <dd>Find the column position at a given string index using a given tabsize.</dd>
    </dl>
</section>
