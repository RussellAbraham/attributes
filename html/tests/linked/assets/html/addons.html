<section id=addons>
    <h2 id="addons">Addons</h2>

    <p>The <code>addon</code> directory in the distribution contains a
    number of reusable components that implement extra editor
    functionality (on top of extension functions
    like <a href="#defineOption"><code>defineOption</code></a>, <a href="#defineExtension"><code>defineExtension</code></a>,
    and <a href="#registerHelper"><code>registerHelper</code></a>). In
    brief, they are:</p>

    <dl>
      <dt id="addon_dialog"><a href="../addon/dialog/dialog.js"><code>dialog/dialog.js</code></a></dt>
      <dd>Provides a very simple way to query users for text input.
      Adds the <strong><code>openDialog(template, callback, options) →
      closeFunction</code></strong> method to CodeMirror instances,
      which can be called with an HTML fragment or a detached DOM
      node that provides the prompt (should include an <code>input</code>
      or <code>button</code> tag), and a callback function that is called
      when the user presses enter. It returns a function <code>closeFunction</code>
      which, if called, will close the dialog immediately.
      <strong><code>openDialog</code></strong> takes the following options:
        <dl>
          <dt><code><strong>closeOnEnter</strong>: bool</code></dt>
          <dd>If true, the dialog will be closed when the user presses
          enter in the input. Defaults to <code>true</code>.</dd>
          <dt><code><strong>closeOnBlur</strong>: bool</code></dt>
          <dd>Determines whether the dialog is closed when it loses focus. Defaults to <code>true</code>.</dd>
          <dt><code><strong>onKeyDown</strong>: fn(event: KeyboardEvent, value: string, close: fn()) → bool</code></dt>
          <dd>An event handler that will be called whenever <code>keydown</code> fires in the
          dialog's input. If your callback returns <code>true</code>,
          the dialog will not do any further processing of the event.</dd>
          <dt><code><strong>onKeyUp</strong>: fn(event: KeyboardEvent, value: string, close: fn()) → bool</code></dt>
          <dd>Same as <code>onKeyDown</code> but for the
          <code>keyup</code> event.</dd>
          <dt><code><strong>onInput</strong>: fn(event: InputEvent, value: string, close: fn()) → bool</code></dt>
          <dd>Same as <code>onKeyDown</code> but for the
          <code>input</code> event.</dd>
          <dt><code><strong>onClose</strong>: fn(instance)</code>:</dt>
          <dd>A callback that will be called after the dialog has been closed and
          removed from the DOM. No return value.</dd>
        </dl>

      <p>Also adds an <strong><code>openNotification(template, options) →
      closeFunction</code></strong> function that simply shows an HTML
      fragment as a notification at the top of the editor. It takes a
      single option: <code>duration</code>, the amount of time after
      which the notification will be automatically closed. If <code>
      duration</code> is zero, the dialog will not be closed automatically.</p>

      <p>Depends on <code>addon/dialog/dialog.css</code>.</p></dd>

      <dt id="addon_searchcursor"><a href="../addon/search/searchcursor.js"><code>search/searchcursor.js</code></a></dt>
      <dd>Adds the <code>getSearchCursor(query, start, options) →
      cursor</code> method to CodeMirror instances, which can be used
      to implement search/replace functionality. <code>query</code>
      can be a regular expression or a string. <code>start</code>
      provides the starting position of the search. It can be
      a <code>{line, ch}</code> object, or can be left off to default
      to the start of the document. <code>options</code> is an
      optional object, which can contain the property `caseFold:
      false` to disable case folding when matching a string, or the
      property `multiline: disable` to disable multi-line matching for
      regular expressions (which may help performance). A search
      cursor has the following methods:
        <dl>
          <dt><code><strong>findNext</strong>() → boolean</code></dt>
          <dt><code><strong>findPrevious</strong>() → boolean</code></dt>
          <dd>Search forward or backward from the current position.
          The return value indicates whether a match was found. If
          matching a regular expression, the return value will be the
          array returned by the <code>match</code> method, in case you
          want to extract matched groups.</dd>
          <dt><code><strong>from</strong>() → {line, ch}</code></dt>
          <dt><code><strong>to</strong>() → {line, ch}</code></dt>
          <dd>These are only valid when the last call
          to <code>findNext</code> or <code>findPrevious</code> did
          not return false. They will return <code>{line, ch}</code>
          objects pointing at the start and end of the match.</dd>
          <dt><code><strong>replace</strong>(text: string, ?origin: string)</code></dt>
          <dd>Replaces the currently found match with the given text
          and adjusts the cursor position to reflect the
          replacement.</dd>
        </dl></dd>

      <dt id="addon_search"><a href="../addon/search/search.js"><code>search/search.js</code></a></dt>
      <dd>Implements the search commands. CodeMirror has keys bound to
      these by default, but will not do anything with them unless an
      implementation is provided. Depends
      on <code>searchcursor.js</code>, and will make use
      of <a href="#addon_dialog"><code>openDialog</code></a> when
      available to make prompting for search queries less ugly.</dd>

      <dt id="addon_jump-to-line"><a href="../addon/search/jump-to-line.js"><code>search/jump-to-line.js</code></a></dt>
      <dd>Implements a <code>jumpToLine</code> command and binding <code>Alt-G</code> to it.
      Accepts <code>linenumber</code>, <code>+/-linenumber</code>, <code>line:char</code>,
      <code>scroll%</code> and <code>:linenumber</code> formats.
      This will make use of <a href="#addon_dialog"><code>openDialog</code></a>
      when available to make prompting for line number neater.</dd>

      <dt id="addon_matchesonscrollbar"><a href="../addon/search/matchesonscrollbar.js"><code>search/matchesonscrollbar.js</code></a></dt>
      <dd>Adds a <code>showMatchesOnScrollbar</code> method to editor
      instances, which should be given a query (string or regular
      expression), optionally a case-fold flag (only applicable for
      strings), and optionally a class name (defaults
      to <code>CodeMirror-search-match</code>) as arguments. When
      called, matches of the given query will be displayed on the
      editor's vertical scrollbar. The method returns an object with
      a <code>clear</code> method that can be called to remove the
      matches. Depends on
      the <a href="#addon_annotatescrollbar"><code>annotatescrollbar</code></a>
      addon, and
      the <a href="../addon/search/matchesonscrollbar.css"><code>matchesonscrollbar.css</code></a>
      file provides a default (transparent yellowish) definition of
      the CSS class applied to the matches. Note that the matches are
      only perfectly aligned if your scrollbar does not have buttons
      at the top and bottom. You can use
      the <a href="#addon_simplescrollbars"><code>simplescrollbar</code></a>
      addon to make sure of this. If this addon is loaded,
      the <a href="#addon_search"><code>search</code></a> addon will
      automatically use it.</dd>

      <dt id="addon_matchbrackets"><a href="../addon/edit/matchbrackets.js"><code>edit/matchbrackets.js</code></a></dt>
      <dd>Defines an option <code>matchBrackets</code> which, when set
      to true or an options object, causes matching brackets to be
      highlighted whenever the cursor is next to them. It also adds a
      method <code>matchBrackets</code> that forces this to happen
      once, and a method <code>findMatchingBracket</code> that can be
      used to run the bracket-finding algorithm that this uses
      internally. It takes a start position and an optional config
      object. By default, it will find the match to a matchable
      character either before or after the cursor (preferring the one
      before), but you can control its behavior with these options:
        <dl>
          <dt><strong><code>afterCursor</code></strong></dt>
          <dd>Only use the character after the start position, never the one before it.</dd>
          <dt><strong><code>strict</code></strong></dt>
          <dd>Causes only matches where both brackets are at the same side of the start position to be considered.</dd>
          <dt><strong><code>maxScanLines</code></strong></dt>
          <dd>Stop after scanning this amount of lines without a successful match. Defaults to 1000.</dd>
          <dt><strong><code>maxScanLineLength</code></strong></dt>
          <dd>Ignore lines longer than this. Defaults to 10000.</dd>
          <dt><strong><code>maxHighlightLineLength</code></strong></dt>
          <dd>Don't highlight a bracket in a line longer than this. Defaults to 1000.</dd>
        </dl></dd>

      <dt id="addon_closebrackets"><a href="../addon/edit/closebrackets.js"><code>edit/closebrackets.js</code></a></dt>
      <dd>Defines an option <code>autoCloseBrackets</code> that will
      auto-close brackets and quotes when typed. By default, it'll
      auto-close <code>()[]{}''""</code>, but you can pass it a string
      similar to that (containing pairs of matching characters), or an
      object with <code>pairs</code> and
      optionally <code>explode</code> properties to customize
      it. <code>explode</code> should be a similar string that gives
      the pairs of characters that, when enter is pressed between
      them, should have the second character also moved to its own
      line. By default, if the active mode has
      a <code>closeBrackets</code> property, that overrides the
      configuration given in the option. But you can add
      an <code>override</code> property with a truthy value to
      override mode-specific
      configuration. <a href="../demo/closebrackets.html">Demo
      here</a>.</dd>

      <dt id="addon_matchtags"><a href="../addon/edit/matchtags.js"><code>edit/matchtags.js</code></a></dt>
      <dd>Defines an option <code>matchTags</code> that, when enabled,
      will cause the tags around the cursor to be highlighted (using
      the <code>CodeMirror-matchingtag</code> class). Also
      defines
      a <a href="#commands">command</a> <code>toMatchingTag</code>,
      which you can bind a key to in order to jump to the tag matching
      the one under the cursor. Depends on
      the <code>addon/fold/xml-fold.js</code>
      addon. <a href="../demo/matchtags.html">Demo here.</a></dd>

      <dt id="addon_trailingspace"><a href="../addon/edit/trailingspace.js"><code>edit/trailingspace.js</code></a></dt>
      <dd>Adds an option <code>showTrailingSpace</code> which, when
      enabled, adds the CSS class <code>cm-trailingspace</code> to
      stretches of whitespace at the end of lines.
      The <a href="../demo/trailingspace.html">demo</a> has a nice
      squiggly underline style for this class.</dd>

      <dt id="addon_closetag"><a href="../addon/edit/closetag.js"><code>edit/closetag.js</code></a></dt>
      <dd>Defines an <code>autoCloseTags</code> option that will
      auto-close XML tags when '<code>&gt;</code>' or '<code>/</code>'
      is typed, and
      a <code>closeTag</code> <a href="#commands">command</a> that
      closes the nearest open tag. Depends on
      the <code>fold/xml-fold.js</code> addon. See
      the <a href="../demo/closetag.html">demo</a>.</dd>

      <dt id="addon_continuelist"><a href="../addon/edit/continuelist.js"><code>edit/continuelist.js</code></a></dt>
      <dd>Markdown specific. Defines
      a <code>"newlineAndIndentContinueMarkdownList"</code> <a href="#commands">command</a>
      that can be bound to <code>enter</code> to automatically
      insert the leading characters for continuing a list. See
      the <a href="../mode/markdown/index.html">Markdown mode
      demo</a>.</dd>

      <dt id="addon_comment"><a href="../addon/comment/comment.js"><code>comment/comment.js</code></a></dt>
      <dd>Addon for commenting and uncommenting code. Adds four
      methods to CodeMirror instances:
      <dl>
        <dt id="toggleComment"><code><strong>toggleComment</strong>(?options: object)</code></dt>
        <dd>Tries to uncomment the current selection, and if that
        fails, line-comments it.</dd>
        <dt id="lineComment"><code><strong>lineComment</strong>(from: {line, ch}, to: {line, ch}, ?options: object)</code></dt>
        <dd>Set the lines in the given range to be line comments. Will
        fall back to <code>blockComment</code> when no line comment
        style is defined for the mode.</dd>
        <dt id="blockComment"><code><strong>blockComment</strong>(from: {line, ch}, to: {line, ch}, ?options: object)</code></dt>
        <dd>Wrap the code in the given range in a block comment. Will
        fall back to <code>lineComment</code> when no block comment
        style is defined for the mode.</dd>
        <dt id="uncomment"><code><strong>uncomment</strong>(from: {line, ch}, to: {line, ch}, ?options: object) → boolean</code></dt>
        <dd>Try to uncomment the given range.
          Returns <code>true</code> if a comment range was found and
          removed, <code>false</code> otherwise.</dd>
      </dl>
      The <code>options</code> object accepted by these methods may
      have the following properties:
      <dl>
        <dt><code>blockCommentStart, blockCommentEnd, blockCommentLead, lineComment: string</code></dt>
        <dd>Override the <a href="#mode_comment">comment string
        properties</a> of the mode with custom comment strings.</dd>
        <dt><code><strong>padding</strong>: string</code></dt>
        <dd>A string that will be inserted after opening and leading
        markers, and before closing comment markers. Defaults to a
        single space.</dd>
        <dt><code><strong>commentBlankLines</strong>: boolean</code></dt>
        <dd>Whether, when adding line comments, to also comment lines
        that contain only whitespace.</dd>
        <dt><code><strong>indent</strong>: boolean</code></dt>
        <dd>When adding line comments and this is turned on, it will
        align the comment block to the current indentation of the
        first line of the block.</dd>
        <dt><code><strong>fullLines</strong>: boolean</code></dt>
        <dd>When block commenting, this controls whether the whole
        lines are indented, or only the precise range that is given.
        Defaults to <code>true</code>.</dd>
      </dl>
      The addon also defines
      a <code>toggleComment</code> <a href="#commands">command</a>,
      which is a shorthand command for calling
      <code>toggleComment</code> with no options.</dd>

      <dt id="addon_foldcode"><a href="../addon/fold/foldcode.js"><code>fold/foldcode.js</code></a></dt>
      <dd>Helps with code folding. Adds a <code>foldCode</code> method
      to editor instances, which will try to do a code fold starting
      at the given line, or unfold the fold that is already present.
      The method takes as first argument the position that should be
      folded (may be a line number or
      a <a href="#Pos"><code>Pos</code></a>), and as second optional
      argument either a range-finder function, or an options object,
      supporting the following properties:
      <dl>
        <dt><code><strong>rangeFinder</strong>: fn(CodeMirror, Pos)</code></dt>
        <dd id="helper_fold_auto">The function that is used to find
        foldable ranges. If this is not directly passed, it will
        default to <code>CodeMirror.fold.auto</code>, which
        uses <a href="#getHelpers"><code>getHelpers</code></a> with
        a <code>"fold"</code> type to find folding functions
        appropriate for the local mode. There are files in
        the <a href="../addon/fold/"><code>addon/fold/</code></a>
        directory providing <code>CodeMirror.fold.brace</code>, which
        finds blocks in brace languages (JavaScript, C, Java,
        etc), <code>CodeMirror.fold.indent</code>, for languages where
        indentation determines block structure (Python, Haskell),
        and <code>CodeMirror.fold.xml</code>, for XML-style languages,
        and <code>CodeMirror.fold.comment</code>, for folding comment
        blocks.</dd>
        <dt><code><strong>widget</strong>: string | Element | fn(from: Pos, to: Pos) → string|Element</code></dt>
        <dd>The widget to show for folded ranges. Can be either a
        string, in which case it'll become a span with
        class <code>CodeMirror-foldmarker</code>, or a DOM node.
        To dynamically generate the widget, this can be a function 
        that returns a string or DOM node, which will then render
        as described. The function will be invoked with parameters
        identifying the range to be folded.</dd>
        <dt><code><strong>scanUp</strong>: boolean</code></dt>
        <dd>When true (default is false), the addon will try to find
        foldable ranges on the lines above the current one if there
        isn't an eligible one on the given line.</dd>
        <dt><code><strong>minFoldSize</strong>: integer</code></dt>
        <dd>The minimum amount of lines that a fold should span to be
        accepted. Defaults to 0, which also allows single-line
        folds.</dd>
      </dl>
      See <a href="../demo/folding.html">the demo</a> for an
      example.</dd>

      <dt id="addon_foldgutter"><a href="../addon/fold/foldgutter.js"><code>fold/foldgutter.js</code></a></dt>
      <dd>Provides an option <code>foldGutter</code>, which can be
      used to create a gutter with markers indicating the blocks that
      can be folded. Create a gutter using
      the <a href="#option_gutters"><code>gutters</code></a> option,
      giving it the class <code>CodeMirror-foldgutter</code> or
      something else if you configure the addon to use a different
      class, and this addon will show markers next to folded and
      foldable blocks, and handle clicks in this gutter. Note that
      CSS styles should be applied to make the gutter, and the fold
      markers within it, visible. A default set of CSS styles are
      available in:
      <a href="../addon/fold/foldgutter.css">
        <code>addon/fold/foldgutter.css</code>
      </a>.
      The option
      can be either set to <code>true</code>, or an object containing
      the following optional option fields:
      <dl>
        <dt><code><strong>gutter</strong>: string</code></dt>
        <dd>The CSS class of the gutter. Defaults
        to <code>"CodeMirror-foldgutter"</code>. You will have to
        style this yourself to give it a width (and possibly a
        background). See the default gutter style rules above.</dd>
        <dt><code><strong>indicatorOpen</strong>: string | Element</code></dt>
        <dd>A CSS class or DOM element to be used as the marker for
        open, foldable blocks. Defaults
        to <code>"CodeMirror-foldgutter-open"</code>.</dd>
        <dt><code><strong>indicatorFolded</strong>: string | Element</code></dt>
        <dd>A CSS class or DOM element to be used as the marker for
        folded blocks. Defaults to <code>"CodeMirror-foldgutter-folded"</code>.</dd>
        <dt><code><strong>rangeFinder</strong>: fn(CodeMirror, Pos)</code></dt>
        <dd>The range-finder function to use when determining whether
        something can be folded. When not
        given, <a href="#helper_fold_auto"><code>CodeMirror.fold.auto</code></a>
        will be used as default.</dd>
      </dl>
      The <code>foldOptions</code> editor option can be set to an
      object to provide an editor-wide default configuration.
      Demo <a href="../demo/folding.html">here</a>.</dd>

      <dt id="addon_runmode"><a href="../addon/runmode/runmode.js"><code>runmode/runmode.js</code></a></dt>
      <dd>Can be used to run a CodeMirror mode over text without
      actually opening an editor instance.
      See <a href="../demo/runmode.html">the demo</a> for an example.
      There are alternate versions of the file available for
      running <a href="../addon/runmode/runmode-standalone.js">stand-alone</a>
      (without including all of CodeMirror) and
      for <a href="../addon/runmode/runmode.node.js">running under
      node.js</a> (see <code>bin/source-highlight</code> for an example of using the latter).</dd>

      <dt id="addon_colorize"><a href="../addon/runmode/colorize.js"><code>runmode/colorize.js</code></a></dt>
      <dd>Provides a convenient way to syntax-highlight code snippets
      in a webpage. Depends on
      the <a href="#addon_runmode"><code>runmode</code></a> addon (or
      its standalone variant). Provides
      a <code>CodeMirror.colorize</code> function that can be called
      with an array (or other array-ish collection) of DOM nodes that
      represent the code snippets. By default, it'll get
      all <code>pre</code> tags. Will read the <code>data-lang</code>
      attribute of these nodes to figure out their language, and
      syntax-color their content using the relevant CodeMirror mode
      (you'll have to load the scripts for the relevant modes
      yourself). A second argument may be provided to give a default
      mode, used when no language attribute is found for a node. Used
      in this manual to highlight example code.</dd>

      <dt id="addon_overlay"><a href="../addon/mode/overlay.js"><code>mode/overlay.js</code></a></dt>
      <dd>Mode combinator that can be used to extend a mode with an
      'overlay' — a secondary mode is run over the stream, along with
      the base mode, and can color specific pieces of text without
      interfering with the base mode.
      Defines <code>CodeMirror.overlayMode</code>, which is used to
      create such a mode. See <a href="../demo/mustache.html">this
      demo</a> for a detailed example.</dd>

      <dt id="addon_multiplex"><a href="../addon/mode/multiplex.js"><code>mode/multiplex.js</code></a></dt>
      <dd>Mode combinator that can be used to easily 'multiplex'
      between several modes.
      Defines <code>CodeMirror.multiplexingMode</code> which, when
      given as first argument a mode object, and as other arguments
      any number of <code>{open, close, mode [, delimStyle, innerStyle, parseDelimiters]}</code>
      objects, will return a mode object that starts parsing using the
      mode passed as first argument, but will switch to another mode
      as soon as it encounters a string that occurs in one of
      the <code>open</code> fields of the passed objects. When in a
      sub-mode, it will go back to the top mode again when
      the <code>close</code> string is encountered.
      Pass <code>"\n"</code> for <code>open</code> or <code>close</code>
      if you want to switch on a blank line.
      <ul><li>When <code>delimStyle</code> is specified, it will be the token
      style returned for the delimiter tokens (as well as
      <code>[delimStyle]-open</code> on the opening token and
      <code>[delimStyle]-close</code> on the closing token).</li>
      <li>When <code>innerStyle</code> is specified, it will be the token
      style added for each inner mode token.</li>
      <li>When <code>parseDelimiters</code> is true, the content of
      the delimiters will also be passed to the inner mode.
      (And <code>delimStyle</code> is ignored.)</li></ul> The outer
      mode will not see the content between the delimiters.
      See <a href="../demo/multiplex.html">this demo</a> for an
      example.</dd>

      <dt id="addon_show-hint"><a href="../addon/hint/show-hint.js"><code>hint/show-hint.js</code></a></dt>
      <dd>Provides a framework for showing autocompletion hints.
      Defines <code>editor.showHint</code>, which takes an optional
      options object, and pops up a widget that allows the user to
      select a completion. Finding hints is done with a hinting
      functions (the <code>hint</code> option), which is a function
      that take an editor instance and options object, and return
      a <code>{list, from, to}</code> object, where <code>list</code>
      is an array of strings or objects (the completions),
      and <code>from</code> and <code>to</code> give the start and end
      of the token that is being completed as <code>{line, ch}</code>
      objects. An optional <code>selectedHint</code> property (an
      integer) can be added to the completion object to control the
      initially selected hint.</dd>
      <dd>If no hinting function is given, the addon will
      use <code>CodeMirror.hint.auto</code>, which
      calls <a href="#getHelpers"><code>getHelpers</code></a> with
      the <code>"hint"</code> type to find applicable hinting
      functions, and tries them one by one. If that fails, it looks
      for a <code>"hintWords"</code> helper to fetch a list of
      completable words for the mode, and
      uses <code>CodeMirror.hint.fromList</code> to complete from
      those.</dd>
      <dd>When completions aren't simple strings, they should be
      objects with the following properties:
      <dl>
        <dt><code><strong>text</strong>: string</code></dt>
        <dd>The completion text. This is the only required
        property.</dd>
        <dt><code><strong>displayText</strong>: string</code></dt>
        <dd>The text that should be displayed in the menu.</dd>
        <dt><code><strong>className</strong>: string</code></dt>
        <dd>A CSS class name to apply to the completion's line in the
        menu.</dd>
        <dt><code><strong>render</strong>: fn(Element, self, data)</code></dt>
        <dd>A method used to create the DOM structure for showing the
        completion by appending it to its first argument.</dd>
        <dt><code><strong>hint</strong>: fn(CodeMirror, self, data)</code></dt>
        <dd>A method used to actually apply the completion, instead of
        the default behavior.</dd>
        <dt><code><strong>from</strong>: {line, ch}</code></dt>
        <dd>Optional <code>from</code> position that will be used by <code>pick()</code> instead
        of the global one passed with the full list of completions.</dd>
        <dt><code><strong>to</strong>: {line, ch}</code></dt>
        <dd>Optional <code>to</code> position that will be used by <code>pick()</code> instead
        of the global one passed with the full list of completions.</dd>
      </dl></dd>

      <dd>The plugin understands the following options, which may be
      either passed directly in the argument to <code>showHint</code>,
      or provided by setting an <code>hintOptions</code> editor
      option to an object (the former takes precedence). The options
      object will also be passed along to the hinting function, which
      may understand additional options.
      <dl>
        <dt><code><strong>hint</strong>: function</code></dt>
        <dd>A hinting function, as specified above. It is possible to
        set the <code>async</code> property on a hinting function to
        true, in which case it will be called with
        arguments <code>(cm, callback, ?options)</code>, and the
        completion interface will only be popped up when the hinting
        function calls the callback, passing it the object holding the
        completions.
        The hinting function can also return a promise, and the completion
        interface will only be popped when the promise resolves.
        By default, hinting only works when there is no
        selection. You can give a hinting function
        a <code>supportsSelection</code> property with a truthy value
        to indicate that it supports selections.</dd>
        <dt><code><strong>completeSingle</strong>: boolean</code></dt>
        <dd>Determines whether, when only a single completion is
        available, it is completed without showing the dialog.
        Defaults to true.</dd>
        <dt><code><strong>alignWithWord</strong>: boolean</code></dt>
        <dd>Whether the pop-up should be horizontally aligned with the
        start of the word (true, default), or with the cursor (false).</dd>
        <dt><code><strong>closeOnUnfocus</strong>: boolean</code></dt>
        <dd>When enabled (which is the default), the pop-up will close
        when the editor is unfocused.</dd>
        <dt><code><strong>customKeys</strong>: keymap</code></dt>
        <dd>Allows you to provide a custom key map of keys to be active
        when the pop-up is active. The handlers will be called with an
        extra argument, a handle to the completion menu, which
        has <code>moveFocus(n)</code>, <code>setFocus(n)</code>, <code>pick()</code>,
        and <code>close()</code> methods (see the source for details),
        that can be used to change the focused element, pick the
        current element or close the menu. Additionally <code>menuSize()</code>
        can give you access to the size of the current dropdown menu,
        <code>length</code> give you the number of available completions, and
        <code>data</code> give you full access to the completion returned by the
        hinting function.</dd>
        <dt><code><strong>extraKeys</strong>: keymap</code></dt>
        <dd>Like <code>customKeys</code> above, but the bindings will
        be added to the set of default bindings, instead of replacing
        them.</dd>
      </dl>
      The following events will be fired on the completions object
      during completion:
      <dl>
        <dt><code><strong>"shown"</strong> ()</code></dt>
        <dd>Fired when the pop-up is shown.</dd>
        <dt><code><strong>"select"</strong> (completion, Element)</code></dt>
        <dd>Fired when a completion is selected. Passed the completion
        value (string or object) and the DOM node that represents it
        in the menu.</dd>
        <dt><code><strong>"pick"</strong> (completion)</code></dt>
        <dd>Fired when a completion is picked. Passed the completion value
        (string or object).</dd>
        <dt><code><strong>"close"</strong> ()</code></dt>
        <dd>Fired when the completion is finished.</dd>
      </dl>
      This addon depends on styles
      from <code>addon/hint/show-hint.css</code>. Check
      out <a href="../demo/complete.html">the demo</a> for an
      example.</dd>

      <dt id="addon_javascript-hint"><a href="../addon/hint/javascript-hint.js"><code>hint/javascript-hint.js</code></a></dt>
      <dd>Defines a simple hinting function for JavaScript
      (<code>CodeMirror.hint.javascript</code>) and CoffeeScript
      (<code>CodeMirror.hint.coffeescript</code>) code. This will
      simply use the JavaScript environment that the editor runs in as
      a source of information about objects and their properties.</dd>

      <dt id="addon_xml-hint"><a href="../addon/hint/xml-hint.js"><code>hint/xml-hint.js</code></a></dt>
      <dd>Defines <code>CodeMirror.hint.xml</code>, which produces
      hints for XML tagnames, attribute names, and attribute values,
      guided by a <code>schemaInfo</code> option (a property of the
      second argument passed to the hinting function, or the third
      argument passed to <code>CodeMirror.showHint</code>).<br>The
      schema info should be an object mapping tag names to information
      about these tags, with optionally a <code>"!top"</code> property
      containing a list of the names of valid top-level tags. The
      values of the properties should be objects with optional
      properties <code>children</code> (an array of valid child
      element names, omit to simply allow all tags to appear)
      and <code>attrs</code> (an object mapping attribute names
      to <code>null</code> for free-form attributes, and an array of
      valid values for restricted
      attributes).<br>The hint options accept an additional property:
      <dl>
        <dt><code><strong>matchInMiddle</strong>: boolean</code></dt>
        <dd>Determines whether typed characters are matched anywhere in
        completions, not just at the beginning. Defaults to false.</dd>
      </dl>
      <a href="../demo/xmlcomplete.html">Demo here</a>.</dd>

      <dt id="addon_html-hint"><a href="../addon/hint/html-hint.js"><code>hint/html-hint.js</code></a></dt>
      <dd>Provides schema info to
      the <a href="#addon_xml-hint">xml-hint</a> addon for HTML
      documents. Defines a schema
      object <code>CodeMirror.htmlSchema</code> that you can pass to
      as a <code>schemaInfo</code> option, and
      a <code>CodeMirror.hint.html</code> hinting function that
      automatically calls <code>CodeMirror.hint.xml</code> with this
      schema data. See
      the <a href="../demo/html5complete.html">demo</a>.</dd>

      <dt id="addon_css-hint"><a href="../addon/hint/css-hint.js"><code>hint/css-hint.js</code></a></dt>
      <dd>A hinting function for CSS, SCSS, or LESS code.
      Defines <code>CodeMirror.hint.css</code>.</dd>

      <dt id="addon_anyword-hint"><a href="../addon/hint/anyword-hint.js"><code>hint/anyword-hint.js</code></a></dt>
      <dd>A very simple hinting function
      (<code>CodeMirror.hint.anyword</code>) that simply looks for
      words in the nearby code and completes to those. Takes two
      optional options, <code>word</code>, a regular expression that
      matches words (sequences of one or more character),
      and <code>range</code>, which defines how many lines the addon
      should scan when completing (defaults to 500).</dd>

      <dt id="addon_sql-hint"><a href="../addon/hint/sql-hint.js"><code>hint/sql-hint.js</code></a></dt>
      <dd>A simple SQL hinter. Defines <code>CodeMirror.hint.sql</code>.
      Takes two optional options, <code>tables</code>, a object with
      table names as keys and array of respective column names as values,
      and <code>defaultTable</code>, a string corresponding to a
      table name in <code>tables</code> for autocompletion.</dd>

      <dt id="addon_match-highlighter"><a href="../addon/search/match-highlighter.js"><code>search/match-highlighter.js</code></a></dt>
      <dd>Adds a <code>highlightSelectionMatches</code> option that
      can be enabled to highlight all instances of a currently
      selected word. Can be set either to true or to an object
      containing the following options: <code>minChars</code>, for the
      minimum amount of selected characters that triggers a highlight
      (default 2), <code>style</code>, for the style to be used to
      highlight the matches (default <code>"matchhighlight"</code>,
      which will correspond to CSS
      class <code>cm-matchhighlight</code>), <code>trim</code>, which
      controls whether whitespace is trimmed from the selection,
      and <code>showToken</code> which can be set to <code>true</code>
      or to a regexp matching the characters that make up a word. When
      enabled, it causes the current word to be highlighted when
      nothing is selected (defaults to off).
      Demo <a href="../demo/matchhighlighter.html">here</a>.</dd>

      <dt id="addon_lint"><a href="../addon/lint/lint.js"><code>lint/lint.js</code></a></dt>
      <dd>Defines an interface component for showing linting warnings,
      with pluggable warning sources
      (see <a href="../addon/lint/html-lint.js"><code>html-lint.js</code></a>,
      <a href="../addon/lint/json-lint.js"><code>json-lint.js</code></a>,
      <a href="../addon/lint/javascript-lint.js"><code>javascript-lint.js</code></a>,
      <a href="../addon/lint/coffeescript-lint.js"><code>coffeescript-lint.js</code></a>,
      and <a href="../addon/lint/css-lint.js"><code>css-lint.js</code></a>
      in the same directory). Defines a <code>lint</code> option that
      can be set to an annotation source (for
      example <code>CodeMirror.lint.javascript</code>), to an options
      object (in which case the <code>getAnnotations</code> field is
      used as annotation source), or simply to <code>true</code>. When
      no annotation source is
      specified, <a href="#getHelper"><code>getHelper</code></a> with
      type <code>"lint"</code> is used to find an annotation function.
      An annotation source function should, when given a document
      string, an options object, and an editor instance, return an
      array of <code>{message, severity, from, to}</code> objects
      representing problems. When the function has
      an <code>async</code> property with a truthy value, it will be
      called with an additional second argument, which is a callback
      to pass the array to.
      The linting function can also return a promise, in that case the linter
      will only be executed when the promise resolves.
      By default, the linter will run (debounced) whenever the document is changed.
      You can pass a <code>lintOnChange: false</code> option to disable that.
      You can pass a <code>selfContain: true</code> option to render the tooltip inside the editor instance.
      Depends on <code>addon/lint/lint.css</code>. A demo can be
      found <a href="../demo/lint.html">here</a>.</dd>

      <dt id="addon_mark-selection"><a href="../addon/selection/mark-selection.js"><code>selection/mark-selection.js</code></a></dt>
      <dd>Causes the selected text to be marked with the CSS class
      <code>CodeMirror-selectedtext</code> when the <code>styleSelectedText</code> option
      is enabled. Useful to change the colour of the selection (in addition to the background),
      like in <a href="../demo/markselection.html">this demo</a>.</dd>

      <dt id="addon_active-line"><a href="../addon/selection/active-line.js"><code>selection/active-line.js</code></a></dt>
      <dd>Defines a <code>styleActiveLine</code> option that, when
      enabled, gives the wrapper of the line that contains the cursor
      the class <code>CodeMirror-activeline</code>, adds a background
      with the class <code>CodeMirror-activeline-background</code>,
      and adds the class <code>CodeMirror-activeline-gutter</code> to
      the line's gutter space is enabled. The option's value may be a
      boolean or an object specifying the following options:
        <dl>
          <dt><code><strong>nonEmpty</strong>: bool</code></dt>
          <dd>Controls whether single-line selections, or just cursor
          selections, are styled. Defaults to false (only cursor
          selections).</dd>
        </dl>
      See the <a href="../demo/activeline.html">demo</a>.</dd>

      <dt id="addon_selection-pointer"><a href="../addon/selection/selection-pointer.js"><code>selection/selection-pointer.js</code></a></dt>
      <dd>Defines a <code>selectionPointer</code> option which you can
      use to control the mouse cursor appearance when hovering over
      the selection. It can be set to a string,
      like <code>"pointer"</code>, or to true, in which case
      the <code>"default"</code> (arrow) cursor will be used. You can
      see a demo <a href="../mode/htmlmixed/index.html">here</a>.</dd>

      <dt id="addon_loadmode"><a href="../addon/mode/loadmode.js"><code>mode/loadmode.js</code></a></dt>
      <dd>Defines a <code>CodeMirror.requireMode(modename,
      callback)</code> function that will try to load a given mode and
      call the callback when it succeeded. You'll have to
      set <code>CodeMirror.modeURL</code> to a string that mode paths
      can be constructed from, for
      example <code>"mode/%N/%N.js"</code>—the <code>%N</code>'s will
      be replaced with the mode name. Also
      defines <code>CodeMirror.autoLoadMode(instance, mode)</code>,
      which will ensure the given mode is loaded and cause the given
      editor instance to refresh its mode when the loading
      succeeded. See the <a href="../demo/loadmode.html">demo</a>.</dd>

      <dt id="addon_meta"><a href="../mode/meta.js"><code>mode/meta.js</code></a></dt>
      <dd>Provides meta-information about all the modes in the
      distribution in a single file.
      Defines <code>CodeMirror.modeInfo</code>, an array of objects
      with <code>{name, mime, mode}</code> properties,
      where <code>name</code> is the human-readable
      name, <code>mime</code> the MIME type, and <code>mode</code> the
      name of the mode file that defines this MIME. There are optional
      properties <code>mimes</code>, which holds an array of MIME
      types for modes with multiple MIMEs associated,
      and <code>ext</code>, which holds an array of file extensions
      associated with this mode. Four convenience
      functions, <code>CodeMirror.findModeByMIME</code>,
      <code>CodeMirror.findModeByExtension</code>,
      <code>CodeMirror.findModeByFileName</code>
      and <code>CodeMirror.findModeByName</code> are provided, which
      return such an object given a MIME, extension, file name or mode name
      string. Note that, for historical reasons, this file resides in the
      top-level <code>mode</code> directory, not
      under <code>addon</code>. <a href="../demo/loadmode.html">Demo</a>.</dd>

      <dt id="addon_continuecomment"><a href="../addon/comment/continuecomment.js"><code>comment/continuecomment.js</code></a></dt>
      <dd>Adds a <code>continueComments</code> option, which sets whether the
      editor will make the next line continue a comment when you press Enter
      inside a comment block. Can be set to a boolean to enable/disable this
      functionality. Set to a string, it will continue comments using a custom
      shortcut. Set to an object, it will use the <code>key</code> property for
      a custom shortcut and the boolean <code>continueLineComment</code>
      property to determine whether single-line comments should be continued
      (defaulting to <code>true</code>).</dd>

      <dt id="addon_placeholder"><a href="../addon/display/placeholder.js"><code>display/placeholder.js</code></a></dt>
      <dd>Adds a <code>placeholder</code> option that can be used to
      make content appear in the editor when it is empty and not
      focused. It can hold either a string or a DOM node. Also gives
      the editor a <code>CodeMirror-empty</code> CSS class whenever it
      doesn't contain any text.
      See <a href="../demo/placeholder.html">the demo</a>.</dd>

      <dt id="addon_fullscreen"><a href="../addon/display/fullscreen.js"><code>display/fullscreen.js</code></a></dt>
      <dd>Defines an option <code>fullScreen</code> that, when set
      to <code>true</code>, will make the editor full-screen (as in,
      taking up the whole browser window). Depends
      on <a href="../addon/display/fullscreen.css"><code>fullscreen.css</code></a>. <a href="../demo/fullscreen.html">Demo
      here</a>.</dd>

      <dt id="addon_autorefresh"><a href="../addon/display/autorefresh.js"><code>display/autorefresh.js</code></a></dt>
      <dd>This addon can be useful when initializing an editor in a
      hidden DOM node, in cases where it is difficult to
      call <a href="#refresh"><code>refresh</code></a> when the editor
      becomes visible. It defines an option <code>autoRefresh</code>
      which you can set to true to ensure that, if the editor wasn't
      visible on initialization, it will be refreshed the first time
      it becomes visible. This is done by polling every 250
      milliseconds (you can pass a value like <code>{delay:
      500}</code> as the option value to configure this). Note that
      this addon will only refresh the editor <em>once</em> when it
      first becomes visible, and won't take care of further restyling
      and resizing.</dd>

      <dt id="addon_simplescrollbars"><a href="../addon/scroll/simplescrollbars.js"><code>scroll/simplescrollbars.js</code></a></dt>
      <dd>Defines two additional scrollbar
      models, <code>"simple"</code> and <code>"overlay"</code>
      (see <a href="../demo/simplescrollbars.html">demo</a>) that can
      be selected with
      the <a href="#option_scrollbarStyle"><code>scrollbarStyle</code></a>
      option. Depends
      on <a href="../addon/scroll/simplescrollbars.css"><code>simplescrollbars.css</code></a>,
      which can be further overridden to style your own
      scrollbars.</dd>

      <dt id="addon_annotatescrollbar"><a href="../addon/scroll/annotatescrollbar.js"><code>scroll/annotatescrollbar.js</code></a></dt>
      <dd>Provides functionality for showing markers on the scrollbar
      to call out certain parts of the document. Adds a
      method <code>annotateScrollbar</code> to editor instances that
      can be called, with a CSS class name as argument, to create a
      set of annotations. The method returns an object
      whose <code>update</code> method can be called with a sorted array
      of <code>{from: Pos, to: Pos}</code> objects marking the ranges
      to be highlighted. To detach the annotations, call the
      object's <code>clear</code> method.</dd>

      <dt id="addon_rulers"><a href="../addon/display/rulers.js"><code>display/rulers.js</code></a></dt>
      <dd>Adds a <code>rulers</code> option, which can be used to show
      one or more vertical rulers in the editor. The option, if
      defined, should be given an array of <code>{column [, className,
      color, lineStyle, width]}</code> objects or numbers (which
      indicate a column). The ruler will be displayed at the column
      indicated by the number or the <code>column</code> property.
      The <code>className</code> property can be used to assign a
      custom style to a ruler. <a href="../demo/rulers.html">Demo
      here</a>.</dd>

      <dt id="addon_panel"><a href="../addon/display/panel.js"><code>display/panel.js</code></a></dt>
      <dd>Defines an <code>addPanel</code> method for CodeMirror
      instances, which places a DOM node above or below an editor, and
      shrinks the editor to make room for the node. The method takes
      as first argument as DOM node, and as second an optional options
      object. The <code>Panel</code> object returned by this method
      has a <code>clear</code> method that is used to remove the
      panel, and a <code>changed</code> method that can be used to
      notify the addon when the size of the panel's DOM node has
      changed.<br/>
      The method accepts the following options:
      <dl>
        <dt><code><strong>position</strong>: string</code></dt>
        <dd>Controls the position of the newly added panel. The
        following values are recognized:
          <dl>
            <dt><code><strong>top</strong> (default)</code></dt>
            <dd>Adds the panel at the very top.</dd>
            <dt><code><strong>after-top</strong></code></dt>
            <dd>Adds the panel at the bottom of the top panels.</dd>
            <dt><code><strong>bottom</strong></code></dt>
            <dd>Adds the panel at the very bottom.</dd>
            <dt><code><strong>before-bottom</strong></code></dt>
            <dd>Adds the panel at the top of the bottom panels.</dd>
          </dl>
        </dd>
        <dt><code><strong>before</strong>: Panel</code></dt>
        <dd>The new panel will be added before the given panel.</dd>
        <dt><code><strong>after</strong>: Panel</code></dt>
        <dd>The new panel will be added after the given panel.</dd>
        <dt><code><strong>replace</strong>: Panel</code></dt>
        <dd>The new panel will replace the given panel.</dd>
        <dt><code><strong>stable</strong>: bool</code></dt>
        <dd>Whether to scroll the editor to keep the text's vertical
        position stable, when adding a panel above it. Defaults to false.</dd>
      </dl>
      When using the <code>after</code>, <code>before</code> or <code>replace</code> options,
      if the panel doesn't exists or has been removed,
      the value of the <code>position</code> option will be used as a fallback.
      <br>
      A demo of the addon is available <a href="../demo/panel.html">here</a>.
      </dd>

      <dt id="addon_hardwrap"><a href="../addon/wrap/hardwrap.js"><code>wrap/hardwrap.js</code></a></dt>
      <dd>Addon to perform hard line wrapping/breaking for paragraphs
      of text. Adds these methods to editor instances:
        <dl>
          <dt><code><strong>wrapParagraph</strong>(?pos: {line, ch}, ?options: object)</code></dt>
          <dd>Wraps the paragraph at the given position.
          If <code>pos</code> is not given, it defaults to the cursor
          position.</dd>
          <dt><code><strong>wrapRange</strong>(from: {line, ch}, to: {line, ch}, ?options: object)</code></dt>
          <dd>Wraps the given range as one big paragraph.</dd>
          <dt><code><strong>wrapParagraphsInRange</strong>(from: {line, ch}, to: {line, ch}, ?options: object)</code></dt>
          <dd>Wraps the paragraphs in (and overlapping with) the
          given range individually.</dd>
        </dl>
        The following options are recognized:
        <dl>
          <dt><code><strong>paragraphStart</strong>, <strong>paragraphEnd</strong>: RegExp</code></dt>
          <dd>Blank lines are always considered paragraph boundaries.
          These options can be used to specify a pattern that causes
          lines to be considered the start or end of a paragraph.</dd>
          <dt><code><strong>column</strong>: number</code></dt>
          <dd>The column to wrap at. Defaults to 80.</dd>
          <dt><code><strong>wrapOn</strong>: RegExp</code></dt>
          <dd>A regular expression that matches only those
          two-character strings that allow wrapping. By default, the
          addon wraps on whitespace and after dash characters.</dd>
          <dt><code><strong>killTrailingSpace</strong>: boolean</code></dt>
          <dd>Whether trailing space caused by wrapping should be
          preserved, or deleted. Defaults to true.</dd>
        </dl>
        A demo of the addon is available <a href="../demo/hardwrap.html">here</a>.
      </dd>

      <dt id="addon_merge"><a href="../addon/merge/merge.js"><code>merge/merge.js</code></a></dt>
      <dd>Implements an interface for merging changes, using either a
      2-way or a 3-way view. The <code>CodeMirror.MergeView</code>
      constructor takes arguments similar to
      the <a href="#CodeMirror"><code>CodeMirror</code></a>
      constructor, first a node to append the interface to, and then
      an options object. Options are passed through to the editors
      inside the view. These extra options are recognized:
        <dl>
          <dt><code><strong>origLeft</strong></code> and <code><strong>origRight</strong>: string</code></dt>
          <dd>If given these provide original versions of the
          document, which will be shown to the left and right of the
          editor in non-editable CodeMirror instances. The merge
          interface will highlight changes between the editable
          document and the original(s). To create a 2-way (as opposed
          to 3-way) merge view, provide only one of them.</dd>
          <dt><code><strong>revertButtons</strong>: boolean</code></dt>
          <dd>Determines whether buttons that allow the user to revert
          changes are shown. Defaults to true.</dd>
          <dt><code><strong>revertChunk</strong>: fn(mv: MergeView, from: CodeMirror, fromStart: Pos, fromEnd: Pos, to: CodeMirror, toStart: Pos, toEnd: Pos)</code></dt>
          <dd>Can be used to define custom behavior when the user
          reverts a changed chunk.</dd>
          <dt><code><strong>connect</strong>: string</code></dt>
          <dd>Sets the style used to connect changed chunks of code.
          By default, connectors are drawn. When this is set
          to <code>"align"</code>, the smaller chunk is padded to
          align with the bigger chunk instead.</dd>
          <dt><code><strong>collapseIdentical</strong>: boolean|number</code></dt>
          <dd>When true (default is false), stretches of unchanged
          text will be collapsed. When a number is given, this
          indicates the amount of lines to leave visible around such
          stretches (which defaults to 2).</dd>
          <dt><code><strong>allowEditingOriginals</strong>: boolean</code></dt>
          <dd>Determines whether the original editor allows editing.
          Defaults to false.</dd>
          <dt><code><strong>showDifferences</strong>: boolean</code></dt>
          <dd>When true (the default), changed pieces of text are
          highlighted.</dd>
          <dt><code><strong>chunkClassLocation</strong>: string|Array</code></dt>
          <dd>By default the chunk highlights are added
          using <a href="#addLineClass"><code>addLineClass</code></a>
          with "background". Override this to customize it to be any
          valid `where` parameter or an Array of valid `where`
          parameters.</dd>
        </dl>
        The addon also defines commands <code>"goNextDiff"</code>
        and <code>"goPrevDiff"</code> to quickly jump to the next
        changed chunk. <a href="../demo/merge.html">Demo
        here</a>.</dd>

      <dt id="addon_tern"><a href="../addon/tern/tern.js"><code>tern/tern.js</code></a></dt>
      <dd>Provides integration with
      the <a href="https://ternjs.net">Tern</a> JavaScript analysis
      engine, for completion, definition finding, and minor
      refactoring help. See the <a href="../demo/tern.html">demo</a>
      for a very simple integration. For more involved scenarios, see
      the comments at the top of
      the <a href="../addon/tern/tern.js">addon</a> and the
      implementation of the
      (multi-file) <a href="https://ternjs.net/doc/demo/index.html">demonstration
      on the Tern website</a>.</dd>
    </dl>
</section>
